{"version":3,"file":"ctrl.js","sources":["../../../src/util/ctrl.ts"],"sourcesContent":["import { Obj4 } from \"../math/algebra/affine.js\";\r\nimport { Bivec } from \"../math/algebra/bivec.js\";\r\nimport { Mat4 } from \"../math/algebra/mat4.js\";\r\nimport { Quaternion } from \"../math/algebra/quaternion.js\";\r\nimport { Rotor } from \"../math/algebra/rotor.js\";\r\nimport { Vec2, vec2Pool } from \"../math/algebra/vec2.js\";\r\nimport { Vec3 } from \"../math/algebra/vec3.js\";\r\nimport { Vec4 } from \"../math/algebra/vec4.js\";\r\nimport { _360, _90, _DEG2RAD, _SQRT_3 } from \"../math/const.js\";\r\nimport { EyeStereo, SectionConfig, DisplayConfig, RetinaSliceFacing, SliceRenderer, RetinaRenderPass, RetinaRenderPassDescriptor } from \"../render/slice/slice.js\";\r\n\r\nexport interface IController {\r\n    enabled?: boolean;\r\n    update(state: ControllerState): void;\r\n}\r\nexport interface ControllerConfig {\r\n    preventDefault?: boolean;\r\n    enablePointerLock?: boolean;\r\n}\r\ninterface KeyConfig {\r\n    [fn: string]: string;\r\n}\r\nexport interface ControllerState {\r\n    currentKeys: Map<String, KeyState>;\r\n    /** holded mouse button */\r\n    currentBtn: number;\r\n    /** pressed mouse button */\r\n    mouseDown: number;\r\n    /** released mouse button */\r\n    mouseUp: number;\r\n    updateCount: number;\r\n    moveX: number;\r\n    moveY: number;\r\n    mouseX: number;\r\n    mouseY: number;\r\n    wheelX: number;\r\n    wheelY: number;\r\n    lastUpdateTime?: number;\r\n    mspf: number;\r\n    requestPointerLock: () => void;\r\n    enablePointerLock?: boolean;\r\n    /** PointerLock has been triggered by the mouse */\r\n    isPointerLockedMouseDown?: boolean;\r\n    /** PointerLock has been canceled by key escape */\r\n    isPointerLockEscaped?: boolean;\r\n    /** code:\r\n     *  'KeyA' for holding Key A\r\n     *  '.KeyA' for pressing Key A \r\n     *  'ControlLeft+.KeyA' for press A while holding CtrlLeft*/\r\n    isKeyHold: (code: string) => boolean;\r\n    isPointerLocked: () => boolean;\r\n    exitPointerLock: () => void;\r\n}\r\nexport enum KeyState {\r\n    NONE,\r\n    UP,\r\n    HOLD,\r\n    DOWN,\r\n}\r\nexport class ControllerRegistry {\r\n    dom: HTMLElement;\r\n    private ctrls: Array<IController>;\r\n    enablePointerLock: boolean;\r\n    readonly states: ControllerState = {\r\n        currentKeys: new Map(),\r\n        isPointerLockedMouseDown: false,\r\n        isPointerLockEscaped: false,\r\n        currentBtn: -1,\r\n        mouseDown: -1,\r\n        mouseUp: -1,\r\n        updateCount: 0,\r\n        moveX: 0,\r\n        moveY: 0,\r\n        mouseX: 0,\r\n        mouseY: 0,\r\n        wheelX: 0,\r\n        wheelY: 0,\r\n        mspf: -1,\r\n\r\n        isKeyHold: (_) => false,\r\n        requestPointerLock: () => false,\r\n        isPointerLocked: () => false,\r\n        exitPointerLock: () => { }\r\n    }\r\n    /** if this is true, prevent default will not work  */\r\n    disableDefaultEvent = false;\r\n    private prevIsPointerLocked = false;\r\n    private evMouseDown: (ev: MouseEvent) => any;\r\n    private evMouseUp: (ev: MouseEvent) => any;\r\n    private evMouseMove: (ev: MouseEvent) => any;\r\n    private evWheel: (ev: WheelEvent) => any;\r\n    private evKeyUp: (ev: KeyboardEvent) => any;\r\n    private evKeyDown: (ev: KeyboardEvent) => any;\r\n    private evContextMenu: (ev: MouseEvent) => any;\r\n    constructor(dom: HTMLElement, ctrls: Array<IController>, config?: ControllerConfig) {\r\n        this.dom = dom;\r\n        dom.tabIndex = 1;\r\n        this.ctrls = ctrls;\r\n        this.enablePointerLock = config?.enablePointerLock ?? false;\r\n        this.states.isKeyHold = (code) => {\r\n            if (code.includes(\"|\")) {\r\n                for (let key of code.split(\"|\")) {\r\n                    if (this.states.isKeyHold(key)) return true;\r\n                }\r\n                return false;\r\n            }\r\n            for (let key of code.split(\"+\")) {\r\n                if (key[0] === '.') {\r\n                    let state = this.states.currentKeys.get(key.slice(1));\r\n                    if (state !== KeyState.DOWN) return false;\r\n                } else {\r\n                    let state = this.states.currentKeys.get(key);\r\n                    if (!state || state === KeyState.UP) return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        this.states.isPointerLocked = () => {\r\n            return ((!this.states.isPointerLockedMouseDown) && document.pointerLockElement === this.dom);\r\n        }\r\n        this.states.exitPointerLock = () => {\r\n            if (document.pointerLockElement === this.dom) {\r\n                document.exitPointerLock();\r\n                // if we exit positively, then don't trigger isPointerLockEscaped in the next update\r\n                this.prevIsPointerLocked = false;\r\n            }\r\n        }\r\n        this.states.requestPointerLock = () => {\r\n            if (document.pointerLockElement !== dom) {\r\n                dom.requestPointerLock();\r\n            }\r\n        }\r\n\r\n        // regist events\r\n\r\n        this.evMouseDown = (ev) => {\r\n            if (this.enablePointerLock && document.pointerLockElement !== dom) {\r\n                dom.requestPointerLock();\r\n                this.states.isPointerLockedMouseDown = true;\r\n            } else {\r\n                dom.focus();\r\n            }\r\n            this.states.currentBtn = ev.button;\r\n            this.states.moveX = 0;\r\n            this.states.moveY = 0;\r\n            this.states.mouseDown = ev.button;\r\n            if (ev.altKey === false) {\r\n                this.states.currentKeys.set(\"AltLeft\", KeyState.NONE);\r\n                this.states.currentKeys.set(\"AltRight\", KeyState.NONE);\r\n            }\r\n            // left click should not be prevented, otherwise keydown event can't obtain focus\r\n            if (ev.button === 1 && config?.preventDefault === true) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n            }\r\n        };\r\n        this.evMouseMove = (ev) => {\r\n            this.states.moveX += ev.movementX;\r\n            this.states.moveY += ev.movementY;\r\n            this.states.mouseX = ev.offsetX;\r\n            this.states.mouseY = ev.offsetY;\r\n        };\r\n        this.evMouseUp = (ev) => {\r\n            this.states.currentBtn = -1;\r\n            this.states.mouseUp = ev.button;\r\n        };\r\n        this.evKeyDown = (ev) => {\r\n            let prevState = this.states.currentKeys.get(ev.code);\r\n            this.states.currentKeys.set(ev.code, prevState === KeyState.HOLD ? KeyState.HOLD : KeyState.DOWN);\r\n            if (ev.altKey === false) {\r\n                this.states.currentKeys.set(\"AltLeft\", KeyState.NONE);\r\n                this.states.currentKeys.set(\"AltRight\", KeyState.NONE);\r\n            }\r\n            if ((ev.altKey === true || ev.ctrlKey === true) && this.disableDefaultEvent) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n            }\r\n        };\r\n        this.evKeyUp = (ev) => {\r\n            this.states.currentKeys.set(ev.code, KeyState.UP);\r\n            if ((ev.altKey === true || ev.ctrlKey === true) && this.disableDefaultEvent) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n            }\r\n        };\r\n        this.evWheel = (ev) => {\r\n            this.states.wheelX = ev.deltaX;\r\n            this.states.wheelY = ev.deltaY;\r\n        };\r\n        // mouse events are restricted in dom (canvas)\r\n        dom.addEventListener(\"mousedown\", this.evMouseDown);\r\n        dom.addEventListener(\"mousemove\", this.evMouseMove);\r\n        dom.addEventListener(\"mouseup\", this.evMouseUp);\r\n        // but wheel and key event do not require focus on dom(canvas)\r\n        document.body.addEventListener(\"keydown\", this.evKeyDown);\r\n        document.body.addEventListener(\"keyup\", this.evKeyUp);\r\n        document.body.addEventListener(\"wheel\", this.evWheel);\r\n        if (config?.preventDefault === true) {\r\n            this.evContextMenu = (ev) => {\r\n                if (!this.disableDefaultEvent) {\r\n                    ev.preventDefault();\r\n                    ev.stopPropagation();\r\n                }\r\n            };\r\n            dom.addEventListener(\"contextmenu\", this.evContextMenu);\r\n        }\r\n    }\r\n    add(ctrl: IController) {\r\n        this.ctrls.push(ctrl);\r\n    }\r\n\r\n    remove(ctrl: IController) {\r\n        this.ctrls = this.ctrls.filter(c => c !== ctrl);\r\n    }\r\n    unregist() {\r\n        this.dom.removeEventListener(\"mousedown\", this.evMouseDown);\r\n        this.dom.removeEventListener(\"mousemove\", this.evMouseMove);\r\n        this.dom.removeEventListener(\"mouseup\", this.evMouseUp);\r\n        this.dom.removeEventListener(\"keydown\", this.evKeyDown);\r\n        this.dom.removeEventListener(\"keyup\", this.evKeyUp);\r\n        this.dom.removeEventListener(\"wheel\", this.evWheel);\r\n        if (this.evContextMenu) this.dom.removeEventListener(\"contextmenu\", this.evContextMenu);\r\n    }\r\n    update() {\r\n        this.states.enablePointerLock = this.enablePointerLock;\r\n        this.states.isPointerLockEscaped = this.prevIsPointerLocked && !this.states.isPointerLocked();\r\n        if (!this.states.lastUpdateTime) {\r\n            this.states.mspf = 16.667;\r\n            let now = new Date().getTime();\r\n            this.states.lastUpdateTime = now;\r\n        } else {\r\n            let now = new Date().getTime();\r\n            this.states.mspf = now - this.states.lastUpdateTime;\r\n            this.states.lastUpdateTime = now;\r\n        }\r\n        for (let c of this.ctrls) {\r\n            c.update(this.states);\r\n        }\r\n        this.states.mouseDown = -1;\r\n        this.states.mouseUp = -1;\r\n        this.states.moveX = 0;\r\n        this.states.moveY = 0;\r\n        this.states.wheelX = 0;\r\n        this.states.wheelY = 0;\r\n        this.states.updateCount++;\r\n        this.states.isPointerLockedMouseDown = false;\r\n        this.prevIsPointerLocked = this.states.isPointerLocked();\r\n        for (let [key, prevState] of this.states.currentKeys) {\r\n            let newState = prevState;\r\n            if (prevState === KeyState.DOWN) {\r\n                newState = KeyState.HOLD;\r\n            } else if (prevState === KeyState.UP) {\r\n                newState = KeyState.NONE;\r\n            }\r\n            this.states.currentKeys.set(key, newState);\r\n        }\r\n    }\r\n}\r\nexport class TrackBallController implements IController {\r\n    center = new Vec4();\r\n    enabled = true;\r\n    object = new Obj4(Vec4.w.neg());\r\n    mouseSpeed = 0.01;\r\n    wheelSpeed = 0.0001;\r\n    damp = 0.1;\r\n    mouseButton3D = 0;\r\n    mouseButtonRoll = 1;\r\n    mouseButton4D = 2;\r\n    /** how many update cycles (2^n) to normalise rotor to avoid accuracy problem */\r\n    normalisePeriodBit: 4;\r\n    keyConfig = {\r\n        disable: \"AltLeft\",\r\n        enable: \"\",\r\n    }\r\n    cameraMode = false;\r\n    private _bivec = new Bivec();\r\n    private normalisePeriodMask = 15;\r\n    constructor(object?: Obj4, cameraMode?: boolean) {\r\n        if (object) this.object = object;\r\n        this.cameraMode = cameraMode ?? false;\r\n    }\r\n    update(state: ControllerState) {\r\n        let disabled = state.isKeyHold(this.keyConfig.disable) || !this.enabled;\r\n        let dampFactor = Math.exp(-this.damp * Math.min(200.0, state.mspf));\r\n        this.object.position.subs(this.center);\r\n        if (!disabled) {\r\n            let dx = state.moveX * this.mouseSpeed;\r\n            let dy = -state.moveY * this.mouseSpeed;\r\n            let wy = state.wheelY * this.wheelSpeed;\r\n            switch (state.currentBtn) {\r\n                case this.mouseButton3D:\r\n                    this._bivec.set(0, dx, 0, dy);\r\n                    break;\r\n                case this.mouseButtonRoll:\r\n                    this._bivec.set(dx, 0, 0, 0, 0, dy);\r\n                    break;\r\n                case this.mouseButton4D:\r\n                    this._bivec.set(0, 0, dx, 0, dy);\r\n                    break;\r\n                default:\r\n                    this._bivec.mulfs(dampFactor);\r\n            }\r\n            this.object.position.mulfs(1 + wy);\r\n        } else {\r\n            this._bivec.mulfs(dampFactor);\r\n        }\r\n        const rotor = this._bivec.exp();\r\n        if (this.cameraMode) {\r\n            rotor.mulsrconj(this.object.rotation).mulsl(this.object.rotation);\r\n            this.object.rotates(rotor);\r\n            this.object.position.rotates(rotor);\r\n        } else {\r\n            this.object.rotates(rotor);\r\n        }\r\n        if ((state.updateCount & this.normalisePeriodMask) === 0) {\r\n            this.object.rotation.norms();\r\n        }\r\n        this.object.position.adds(this.center);\r\n    }\r\n    lookAtCenter() {\r\n        this.object.lookAt(Vec4.wNeg, this.center);\r\n    }\r\n}\r\nexport class FreeFlyController implements IController {\r\n    enabled = true;\r\n    swapMouseYWithScrollY = false;\r\n    object = new Obj4();\r\n    mouseSpeed = 0.01;\r\n    wheelSpeed = 0.0005;\r\n    keyMoveSpeed = 0.001;\r\n    keyRotateSpeed = 0.001;\r\n    damp = 0.01;\r\n    constructor(object?: Obj4) {\r\n        if (object) this.object = object;\r\n    }\r\n    keyConfig = {\r\n        front: \"KeyW\",\r\n        back: \"KeyS\",\r\n        left: \"KeyA\",\r\n        right: \"KeyD\",\r\n        ana: \"KeyQ\",\r\n        kata: \"KeyE\",\r\n        up: \"Space\",\r\n        down: \"ShiftLeft\",\r\n        turnLeft: \"KeyJ\",\r\n        turnRight: \"KeyL\",\r\n        turnAna: \"KeyU\",\r\n        turnKata: \"KeyO\",\r\n        turnUp: \"KeyI\",\r\n        turnDown: \"KeyK\",\r\n        spinCW: \"KeyF|KeyZ\",\r\n        spinCCW: \"KeyH|KeyX\",\r\n        rollCW: \"KeyR\",\r\n        rollCCW: \"KeyY\",\r\n        pitchCW: \"KeyG\",\r\n        pitchCCW: \"KeyT\",\r\n        disable: \"AltLeft\",\r\n        enable: \"\",\r\n    }\r\n    /** how many update cycles (2^n) to normalise rotor to avoid accuracy problem */\r\n    normalisePeriodBit: 4;\r\n    private _bivec = new Bivec();\r\n    private _bivecKey = new Bivec();\r\n    private _moveVec = new Vec4();\r\n    private _vec = new Vec4();\r\n    private normalisePeriodMask = 15;\r\n\r\n    update(state: ControllerState) {\r\n        let on = state.isKeyHold;\r\n        let key = this.keyConfig;\r\n        let delta: number;\r\n        let dampFactor = Math.exp(-this.damp * Math.min(200.0, state.mspf));\r\n        let disabled = state.isKeyHold(this.keyConfig.disable) || !this.enabled;\r\n        if (!disabled) {\r\n\r\n            let keyRotateSpeed = this.keyRotateSpeed * state.mspf;\r\n            delta = (on(key.pitchCW) ? -1 : 0) + (on(key.pitchCCW) ? 1 : 0);\r\n            if (delta) this._bivecKey.yz = delta * keyRotateSpeed;\r\n            delta = (on(key.spinCW) ? -1 : 0) + (on(key.spinCCW) ? 1 : 0);\r\n            if (delta) this._bivecKey.xz = delta * keyRotateSpeed;\r\n            delta = (on(key.rollCW) ? -1 : 0) + (on(key.rollCCW) ? 1 : 0);\r\n            if (delta) this._bivecKey.xy = delta * keyRotateSpeed;\r\n            delta = (on(key.turnLeft) ? -1 : 0) + (on(key.turnRight) ? 1 : 0);\r\n            if (delta) this._bivecKey.xw = delta * keyRotateSpeed;\r\n            delta = (on(key.turnUp) ? 1 : 0) + (on(key.turnDown) ? -1 : 0);\r\n            if (delta) this._bivecKey.yw = delta * keyRotateSpeed;\r\n            delta = (on(key.turnAna) ? -1 : 0) + (on(key.turnKata) ? 1 : 0);\r\n            if (delta) this._bivecKey.zw = delta * keyRotateSpeed;\r\n        }\r\n        this._bivec.copy(this._bivecKey);\r\n        this._bivecKey.mulfs(dampFactor);\r\n        if (!disabled) {\r\n            if ((state.enablePointerLock && state.isPointerLocked()) || (state.currentBtn = 0 && !state.enablePointerLock)) {\r\n                let dx = state.moveX * this.mouseSpeed;\r\n                let dy = -state.moveY * this.mouseSpeed;\r\n                this._bivec.xw += dx;\r\n                if (this.swapMouseYWithScrollY) {\r\n                    this._bivec.yw += dy;\r\n                } else {\r\n                    this._bivec.zw -= dy;\r\n                }\r\n            }\r\n            if ((state.enablePointerLock && state.isPointerLocked()) || (!state.enablePointerLock)) {\r\n                let wx = state.wheelX * this.wheelSpeed;\r\n                let wy = state.wheelY * this.wheelSpeed;\r\n                this._bivec.xy += wx;\r\n                if (this.swapMouseYWithScrollY) {\r\n                    this._bivec.zw += wy;\r\n                } else {\r\n                    this._bivec.yw -= wy;\r\n                }\r\n            }\r\n            let keyMoveSpeed = this.keyMoveSpeed * state.mspf;\r\n            delta = (on(key.left) ? -1 : 0) + (on(key.right) ? 1 : 0);\r\n            if (delta) this._moveVec.x = delta * keyMoveSpeed;\r\n            delta = (on(key.up) ? 1 : 0) + (on(key.down) ? -1 : 0);\r\n            if (delta) this._moveVec.y = delta * keyMoveSpeed;\r\n            delta = (on(key.ana) ? -1 : 0) + (on(key.kata) ? 1 : 0);\r\n            if (delta) this._moveVec.z = delta * keyMoveSpeed;\r\n            delta = (on(key.front) ? -1 : 0) + (on(key.back) ? 1 : 0);\r\n            if (delta) this._moveVec.w = delta * keyMoveSpeed;\r\n        }\r\n        // R A = R A R-1 R \r\n        this.object.rotation.mulsr(this._bivec.exp());\r\n        this.object.translates(this._vec.copy(this._moveVec).rotates(this.object.rotation));\r\n        this._moveVec.mulfs(dampFactor);\r\n        if ((state.updateCount & this.normalisePeriodMask) === 0) {\r\n            this.object.rotation.norms();\r\n        }\r\n    }\r\n}\r\nexport class KeepUpController implements IController {\r\n    enabled = true;\r\n    object = new Obj4();\r\n    mouseSpeed = 0.01;\r\n    wheelSpeed = 0.0001;\r\n    keyMoveSpeed = 0.001;\r\n    keyRotateSpeed = 0.001;\r\n    damp = 0.05;\r\n    keyConfig = {\r\n        front: \"KeyW\",\r\n        back: \"KeyS\",\r\n        left: \"KeyA\",\r\n        right: \"KeyD\",\r\n        ana: \"KeyQ\",\r\n        kata: \"KeyE\",\r\n        up: \"Space\",\r\n        down: \"ShiftLeft\",\r\n        turnLeft: \"KeyJ\",\r\n        turnRight: \"KeyL\",\r\n        turnAna: \"KeyU\",\r\n        turnKata: \"KeyO\",\r\n        turnUp: \"KeyI\",\r\n        turnDown: \"KeyK\",\r\n        spinCW: \"KeyZ\",\r\n        spinCCW: \"KeyX\",\r\n        disable: \"AltLeft\",\r\n        enable: \"\"\r\n    }\r\n    /** how many update cycles (2^n) to normalise rotor to avoid accuracy problem */\r\n    normalisePeriodBit: 4;\r\n    private _bivec = new Bivec();\r\n    private _bivec2 = new Bivec();\r\n    private _bivecKey = new Bivec();\r\n    private _moveVec = new Vec4();\r\n    private _vec = new Vec4();\r\n    private normalisePeriodMask = 15;\r\n    private horizontalRotor = new Rotor();\r\n    private verticalRotor = new Rotor();\r\n\r\n    constructor(object?: Obj4) {\r\n        if (object) this.object = object;\r\n        this.updateObj();\r\n    }\r\n    updateObj() {\r\n        // rotate obj's yw plane to world's y axis\r\n        this.object.rotates(Rotor.lookAtvb(Vec4.y, Bivec.yw.rotate(this.object.rotation)).conjs());\r\n        // now check angle between obj's y axis and world's y axis\r\n        let objY = Vec4.y.rotate(this.object.rotation);\r\n        let r = Rotor.lookAt(objY, Vec4.y);\r\n        this.horizontalRotor.copy(r.mul(this.object.rotation));\r\n        this.verticalRotor.copy(this.horizontalRotor.mul(r.conjs()).mulsrconj(this.horizontalRotor));\r\n    }\r\n    update(state: ControllerState) {\r\n        let on = state.isKeyHold;\r\n        let key = this.keyConfig;\r\n        let delta: number;\r\n        let dampFactor = Math.exp(-this.damp * Math.min(200.0, state.mspf));\r\n        let disabled = state.isKeyHold(this.keyConfig.disable);\r\n        if (!this.enabled) return;\r\n        if (!disabled) {\r\n\r\n            let keyRotateSpeed = this.keyRotateSpeed * state.mspf;\r\n            delta = (on(key.spinCW) ? -1 : 0) + (on(key.spinCCW) ? 1 : 0);\r\n            if (delta) this._bivecKey.xz = delta * keyRotateSpeed;\r\n            delta = (on(key.turnLeft) ? -1 : 0) + (on(key.turnRight) ? 1 : 0);\r\n            if (delta) this._bivecKey.xw = delta * keyRotateSpeed;\r\n            delta = (on(key.turnUp) ? 1 : 0) + (on(key.turnDown) ? -1 : 0);\r\n            if (delta) this._bivecKey.yw = delta * keyRotateSpeed;\r\n            delta = (on(key.turnAna) ? -1 : 0) + (on(key.turnKata) ? 1 : 0);\r\n            if (delta) this._bivecKey.zw = delta * keyRotateSpeed;\r\n        }\r\n        this._bivec.xw = this._bivecKey.xw;\r\n        this._bivec.zw = this._bivecKey.zw;\r\n        if (!disabled) {\r\n            if ((state.enablePointerLock && state.isPointerLocked()) || (state.currentBtn === 0 && !state.enablePointerLock)) {\r\n                let dx = state.moveX * this.mouseSpeed;\r\n                let dy = state.moveY * this.mouseSpeed;\r\n                this._bivec.xw += dx;\r\n                this._bivec.zw += dy;\r\n            }\r\n            if ((state.enablePointerLock && state.isPointerLocked()) || (!state.enablePointerLock)) {\r\n                let wy = -state.wheelY * this.wheelSpeed;\r\n                this._bivecKey.yw += wy;\r\n            }\r\n        }\r\n        this._bivec.xz = this._bivecKey.xz;\r\n        this._bivec2.yw = this._bivecKey.yw;\r\n        // R A = R A R-1 R \r\n        this.horizontalRotor.mulsr(this._bivec.exp());\r\n        this.verticalRotor.mulsr(this._bivec2.exp());\r\n        if (!disabled) {\r\n            let keyMoveSpeed = this.keyMoveSpeed * state.mspf;\r\n            delta = (on(key.left) ? -1 : 0) + (on(key.right) ? 1 : 0);\r\n            if (delta) this._moveVec.x = delta * keyMoveSpeed;\r\n            delta = (on(key.up) ? 1 : 0) + (on(key.down) ? -1 : 0);\r\n            if (delta) this._moveVec.y = delta * keyMoveSpeed;\r\n            delta = (on(key.ana) ? -1 : 0) + (on(key.kata) ? 1 : 0);\r\n            if (delta) this._moveVec.z = delta * keyMoveSpeed;\r\n            delta = (on(key.front) ? -1 : 0) + (on(key.back) ? 1 : 0);\r\n            if (delta) this._moveVec.w = delta * keyMoveSpeed;\r\n        }\r\n        this.object.translates(this._vec.copy(this._moveVec).rotates(this.horizontalRotor));\r\n        this.object.rotation.copy(this.horizontalRotor.mul(this.verticalRotor));\r\n        this._moveVec.mulfs(dampFactor);\r\n        this._bivecKey.mulfs(dampFactor);\r\n        if ((state.updateCount & this.normalisePeriodMask) === 0) {\r\n            this.horizontalRotor.norms();\r\n            this.verticalRotor.norms();\r\n        }\r\n    }\r\n}\r\nexport class VoxelViewerController implements IController {\r\n    enabled = true;\r\n    object = new Obj4(Vec4.w.neg());\r\n    mouseSpeed = 0.01;\r\n    wheelSpeed = 0.0001;\r\n    damp = 0.1;\r\n    mousePan = 2;\r\n    mousePanZ = 1;\r\n    mouseRotate = 0;\r\n    /** how many update cycles (2^n) to normalise rotor to avoid accuracy problem */\r\n    normalisePeriodBit: 4;\r\n    keyConfig = {\r\n        disable: \"AltLeft\",\r\n        enable: \"\",\r\n    }\r\n    private _bivec = new Bivec();\r\n    private _vec = new Vec4();\r\n    private _wy = 0;\r\n    private normalisePeriodMask = 15;\r\n    constructor(object?: Obj4) {\r\n        if (object) this.object = object;\r\n    }\r\n    update(state: ControllerState) {\r\n        let disabled = state.isKeyHold(this.keyConfig.disable) || !this.enabled;\r\n        let dampFactor = Math.exp(-this.damp * Math.min(200.0, state.mspf));\r\n        if (!disabled) {\r\n            let dx = state.moveX * this.mouseSpeed;\r\n            let dy = -state.moveY * this.mouseSpeed;\r\n            let wy = state.wheelY * this.wheelSpeed;\r\n            switch (state.currentBtn) {\r\n                case this.mousePan:\r\n                    this._vec.set(dx * this.object.scale!.x, dy * this.object.scale!.y).rotates(this.object.rotation)\r\n                    this._bivec.set();\r\n                    break;\r\n                case this.mousePanZ:\r\n                    this._vec.set(dx * this.object.scale!.x, 0, -dy * this.object.scale!.z).rotates(this.object.rotation);\r\n                    this._bivec.set();\r\n                    break;\r\n                case this.mouseRotate:\r\n                    this._bivec.set(0, dx, 0, dy);\r\n                    this._vec.set();\r\n                    break;\r\n                default:\r\n                    this._bivec.mulfs(dampFactor);\r\n                    this._vec.mulfs(dampFactor);\r\n            }\r\n            this.object.position.subs(this._vec);\r\n            this._wy = wy ? wy : this._wy * dampFactor;\r\n            if (this.object.scale) this.object.scale.mulfs(1 + this._wy);\r\n        } else {\r\n            this._bivec.mulfs(dampFactor);\r\n            this._vec.mulfs(dampFactor);\r\n            this._wy *= dampFactor;\r\n        }\r\n        this.object.rotation.mulsr(this._bivec.exp());\r\n        if ((state.updateCount & this.normalisePeriodMask) === 0) {\r\n            this.object.rotation.norms();\r\n        }\r\n    }\r\n}\r\ninterface SectionPreset {\r\n    retina: boolean,\r\n    eye1: SectionConfig[],\r\n    eye2: SectionConfig[]\r\n}\r\nexport namespace sliceconfig {\r\n\r\n    export function singlezslice1eye(screenSize: { width: number, height: number }): SectionConfig[] {\r\n        let aspect = screenSize.height / screenSize.width;\r\n        let resolution = screenSize.height;\r\n        return [{\r\n            slicePos: 0,\r\n            facing: RetinaSliceFacing.POSZ,\r\n            viewport: { x: 0, y: 0, width: 1 / aspect, height: 1.0 },\r\n            resolution\r\n        }];\r\n\r\n    }\r\n    export function singlezslice2eye(screenSize: { width: number, height: number }): SectionConfig[] {\r\n        let aspect = screenSize.height / screenSize.width;\r\n        let resolution = screenSize.height * 0.8;\r\n        return [{\r\n            slicePos: 0,\r\n            facing: RetinaSliceFacing.POSZ,\r\n            eyeStereo: EyeStereo.LeftEye,\r\n            viewport: { x: -0.5, y: 0, width: 0.5 / aspect, height: 0.8 },\r\n            resolution\r\n        }, {\r\n            slicePos: 0,\r\n            facing: RetinaSliceFacing.POSZ,\r\n            eyeStereo: EyeStereo.RightEye,\r\n            viewport: { x: 0.5, y: 0, width: 0.5 / aspect, height: 0.8 },\r\n            resolution\r\n        }];\r\n    }\r\n    export function singleyslice1eye(screenSize: { width: number, height: number }): SectionConfig[] {\r\n        let aspect = screenSize.height / screenSize.width;\r\n        let resolution = screenSize.height;\r\n        return [{\r\n            slicePos: 0,\r\n            facing: RetinaSliceFacing.NEGY,\r\n            viewport: { x: 0, y: 0, width: 1 / aspect, height: 1.0 },\r\n            resolution\r\n        }];\r\n    }\r\n    export function singleyslice2eye(screenSize: { width: number, height: number }): SectionConfig[] {\r\n        let aspect = screenSize.height / screenSize.width;\r\n        let resolution = screenSize.height * 0.8;\r\n        return [{\r\n            slicePos: 0,\r\n            facing: RetinaSliceFacing.NEGY,\r\n            eyeStereo: EyeStereo.LeftEye,\r\n            viewport: { x: -0.5, y: 0, width: 0.5 / aspect, height: 0.8 },\r\n            resolution\r\n        }, {\r\n            slicePos: 0,\r\n            facing: RetinaSliceFacing.NEGY,\r\n            eyeStereo: EyeStereo.RightEye,\r\n            viewport: { x: 0.5, y: 0, width: 0.5 / aspect, height: 0.8 },\r\n            resolution\r\n        }];\r\n    }\r\n    export function zslices1eye(\r\n        step: number, maxpos: number, screenSize: { width: number, height: number }\r\n    ): SectionConfig[] {\r\n        let aspect = screenSize.height / screenSize.width;\r\n        let arr = [[0, 0]];\r\n        let j = 1;\r\n        for (let i = step; i <= maxpos; i += step, j++) {\r\n            arr.push([i, j]);\r\n            arr.push([-i, -j]);\r\n        }\r\n        let half = 2 / arr.length;\r\n        let size = 1 / (aspect * arr.length);\r\n        let resolution = screenSize.height * size;\r\n        return arr.map(pos => ({\r\n            slicePos: pos[0],\r\n            facing: RetinaSliceFacing.POSZ,\r\n            viewport: { x: pos[1] * half, y: size - 1, width: size, height: size },\r\n            resolution\r\n        }));\r\n    }\r\n    export function zslices2eye(\r\n        step: number, maxpos: number, screenSize: { width: number, height: number }\r\n    ): SectionConfig[] {\r\n        let aspect = screenSize.height / screenSize.width;\r\n        let arr = [[0, 0]];\r\n        let j = 1;\r\n        for (let i = step; i <= maxpos; i += step, j++) {\r\n            arr.push([i, j]);\r\n            arr.push([-i, -j]);\r\n        }\r\n        arr.sort((a, b) => a[0] - b[0]);\r\n        let half = 1 / arr.length;\r\n        let size = 0.5 / (aspect * arr.length);\r\n        let resolution = screenSize.height * size;\r\n        return arr.map(pos => ({\r\n            slicePos: pos[0],\r\n            facing: RetinaSliceFacing.POSZ,\r\n            eyeStereo: EyeStereo.LeftEye,\r\n            viewport: { x: (pos[1] * half) - 0.5, y: size - 1, width: size, height: size },\r\n            resolution\r\n        })).concat(\r\n            arr.map(pos => ({\r\n                slicePos: pos[0],\r\n                facing: RetinaSliceFacing.POSZ,\r\n                eyeStereo: EyeStereo.RightEye,\r\n                viewport: { x: (pos[1] * half) + 0.5, y: size - 1, width: size, height: size },\r\n                resolution\r\n            }))\r\n        );\r\n    }\r\n\r\n    export function yslices1eye(\r\n        step: number, maxpos: number, screenSize: { width: number, height: number }\r\n    ): SectionConfig[] {\r\n        let aspect = screenSize.height / screenSize.width;\r\n        let arr = [[0, 0]];\r\n        let j = 1;\r\n        for (let i = step; i <= maxpos; i += step, j++) {\r\n            arr.push([i, j]);\r\n            arr.push([-i, -j]);\r\n        }\r\n        let half = 2 / arr.length;\r\n        let size = 1 / (aspect * arr.length);\r\n        let resolution = screenSize.height * size;\r\n        return arr.map(pos => ({\r\n            slicePos: pos[0],\r\n            facing: RetinaSliceFacing.NEGY,\r\n            viewport: { x: pos[1] * half, y: size - 1, width: size, height: size },\r\n            resolution\r\n        }));\r\n    }\r\n    export function yslices2eye(\r\n        step: number, maxpos: number, screenSize: { width: number, height: number }\r\n    ): SectionConfig[] {\r\n        let aspect = screenSize.height / screenSize.width;\r\n        let arr = [[0, 0]];\r\n        let j = 1;\r\n        for (let i = step; i <= maxpos; i += step, j++) {\r\n            arr.push([i, j]);\r\n            arr.push([-i, -j]);\r\n        }\r\n        arr.sort((a, b) => a[0] - b[0]);\r\n        let half = 1 / arr.length;\r\n        let size = 0.5 / (aspect * arr.length);\r\n        let resolution = screenSize.height * size;\r\n        return arr.map(pos => ({\r\n            slicePos: pos[0],\r\n            facing: RetinaSliceFacing.NEGY,\r\n            eyeStereo: EyeStereo.LeftEye,\r\n            viewport: { x: (pos[1] * half) - 0.5, y: size - 1, width: size, height: size },\r\n            resolution\r\n        })).concat(\r\n            arr.map(pos => ({\r\n                slicePos: pos[0],\r\n                facing: RetinaSliceFacing.NEGY,\r\n                eyeStereo: EyeStereo.RightEye,\r\n                viewport: { x: (pos[1] * half) + 0.5, y: size - 1, width: size, height: size },\r\n                resolution\r\n            }))\r\n        );\r\n    }\r\n    export function default2eye(\r\n        size: number, screenSize: { width: number, height: number }\r\n    ): SectionConfig[] {\r\n        let aspect = screenSize.height / screenSize.width;\r\n        let resolution = screenSize.height * size;\r\n        let wsize: number;\r\n        let size_aspect: number;\r\n        if (size >= 0.5) {\r\n            wsize = 0.25 / aspect;\r\n            size_aspect = 0.25;\r\n            size = 0.5;\r\n        } else {\r\n            size_aspect = size * aspect;\r\n            wsize = size;\r\n        }\r\n        return [\r\n            {\r\n                facing: RetinaSliceFacing.NEGX,\r\n                eyeStereo: EyeStereo.LeftEye,\r\n                viewport: { x: -size_aspect, y: size - 1, width: wsize, height: size },\r\n                resolution\r\n            },\r\n            {\r\n                facing: RetinaSliceFacing.NEGX,\r\n                eyeStereo: EyeStereo.RightEye,\r\n                viewport: { x: 1 - size_aspect, y: size - 1, width: wsize, height: size },\r\n                resolution\r\n            },\r\n            {\r\n                facing: RetinaSliceFacing.NEGY,\r\n                eyeStereo: EyeStereo.LeftEye,\r\n                viewport: { x: -size_aspect, y: 1 - size, width: wsize, height: size },\r\n                resolution\r\n            },\r\n            {\r\n                facing: RetinaSliceFacing.NEGY,\r\n                eyeStereo: EyeStereo.RightEye,\r\n                viewport: { x: 1 - size_aspect, y: 1 - size, width: wsize, height: size },\r\n                resolution\r\n            },\r\n            {\r\n                facing: RetinaSliceFacing.POSZ,\r\n                eyeStereo: EyeStereo.LeftEye,\r\n                viewport: { x: size_aspect - 1, y: size - 1, width: wsize, height: size },\r\n                resolution\r\n            },\r\n            {\r\n                facing: RetinaSliceFacing.POSZ,\r\n                eyeStereo: EyeStereo.RightEye,\r\n                viewport: { x: size_aspect, y: size - 1, width: wsize, height: size },\r\n                resolution\r\n            },\r\n        ];\r\n    };\r\n    export function default1eye(size: number, screenSize: { width: number, height: number }): SectionConfig[] {\r\n        let aspect = screenSize.height / screenSize.width;\r\n        let resolution = screenSize.height * size;\r\n        let wsize: number;\r\n        let size_aspect: number;\r\n        if (size >= 0.5) {\r\n            wsize = 0.5 / aspect;\r\n            size_aspect = 0.5;\r\n            size = 0.5;\r\n        } else {\r\n            size_aspect = size * aspect;\r\n            wsize = size;\r\n        }\r\n        return [\r\n            {\r\n                facing: RetinaSliceFacing.NEGX,\r\n                viewport: { x: 1 - size_aspect, y: size - 1, width: wsize, height: size },\r\n                resolution\r\n            },\r\n            {\r\n                facing: RetinaSliceFacing.NEGY,\r\n                viewport: { x: 1 - size_aspect, y: 1 - size, width: wsize, height: size },\r\n                resolution\r\n            },\r\n            {\r\n                facing: RetinaSliceFacing.POSZ,\r\n                viewport: { x: size_aspect - 1, y: size - 1, width: wsize, height: size },\r\n                resolution\r\n            }\r\n        ];\r\n    }\r\n\r\n}\r\nconst retinaRenderPassDescriptors: RetinaRenderPassDescriptor[] = [\r\n    {},\r\n    {\r\n        alphaShader: {\r\n            code: `@group(1) @binding(0) var<uniform> alphaParams : vec4<f32>;\r\n            fn main(color:vec4<f32>, coord: vec3<f32>)->f32{\r\n                return color.a * (1.0 - smoothstep(alphaParams.x,alphaParams.y,dot(coord,coord))) * alphaParams.z;\r\n            }`, entryPoint: 'main'\r\n        }\r\n    }, {\r\n        alphaShader: {\r\n            code: `@group(1) @binding(0) var<uniform> alphaParams : vec4<f32>;\r\n            fn main(color:vec4<f32>, coord  : vec3<f32>)->f32{\r\n                return color.a * max(step(abs(coord.x),alphaParams.x)*step(abs(coord.y),alphaParams.x)*step(abs(coord.z),alphaParams.x)* alphaParams.y,alphaParams.z);\r\n            }`, entryPoint: 'main'\r\n        }\r\n    }, {\r\n        alphaShader: {\r\n            code: `@group(1) @binding(0) var<uniform> alphaParams : vec4<f32>;\r\n            fn main(color:vec4<f32>, coord: vec3<f32>)->f32{ \r\n                return color.a * max(step(dot(coord,alphaParams.xyz),0.0),alphaParams.w); \r\n            }`, entryPoint: 'main'\r\n        }\r\n    },\r\n];\r\nexport class RetinaController implements IController {\r\n    enabled = true;\r\n    renderer: SliceRenderer;\r\n    mouseSpeed = 0.01;\r\n    wheelSpeed = 0.0005;\r\n    keyMoveSpeed = 0.1;\r\n    keyRotateSpeed = 0.002;\r\n    opacityKeySpeed = 0.01;\r\n    fovKeySpeed = 1;\r\n    damp = 0.02;\r\n    mouseButton = 0;\r\n    retinaAlphaMouseButton = 2;\r\n    retinaEyeOffset = 0.1;\r\n    sectionEyeOffset = 0.2;\r\n    maxSectionEyeOffset = 1;\r\n    minSectionEyeOffset = 0.01;\r\n    size: GPUExtent3DStrict;\r\n    sectionPresets: (screenSize: GPUExtent3DStrict) => { [label: string]: SectionPreset };\r\n    private currentSectionConfig: string = \"retina+sections\";\r\n    private rembemerLastLayers: number;\r\n    private needResize: boolean = true;\r\n    private currentRetinaRenderPassIndex = -1;\r\n    keyConfig = {\r\n        enable: \"AltLeft\",\r\n        disable: \"\",\r\n        addOpacity: \"KeyQ\",\r\n        subOpacity: \"KeyA\",\r\n        addLayer: \"KeyW\",\r\n        subLayer: \"KeyS\",\r\n        addRetinaResolution: \".KeyE\",\r\n        subRetinaResolution: \".KeyD\",\r\n        addFov: \"KeyT\",\r\n        subFov: \"KeyG\",\r\n        toggle3D: \".KeyZ\",\r\n        addEyes3dGap: \"KeyB\",\r\n        subEyes3dGap: \"KeyV\",\r\n        addEyes4dGap: \"KeyM\",\r\n        subEyes4dGap: \"KeyN\",\r\n        negEyesGap: \".KeyX\",\r\n        toggleCrosshair: \".KeyC\",\r\n        rotateLeft: \"ArrowLeft\",\r\n        rotateRight: \"ArrowRight\",\r\n        rotateUp: \"ArrowUp\",\r\n        rotateDown: \"ArrowDown\",\r\n        refaceFront: \".KeyR\",\r\n        refaceRight: \".KeyL\",\r\n        refaceLeft: \".KeyJ\",\r\n        refaceTop: \".KeyI\",\r\n        refaceBottom: \".KeyK\",\r\n        toggleRetinaAlpha: \".KeyF\",\r\n        sectionConfigs: {\r\n            \"retina+sections\": \".Digit1\",\r\n            \"retina+bigsections\": \".Digit2\",\r\n            \"retina\": \".Digit3\",\r\n            \"sections\": \".Digit4\",\r\n            \"zsection\": \".Digit5\",\r\n            \"ysection\": \".Digit6\",\r\n            \"retina+zslices\": \".Digit7\",\r\n            \"retina+yslices\": \".Digit8\",\r\n        },\r\n    }\r\n    private alphaBuffer: GPUBuffer;\r\n    guiMouseOperation = \"\";\r\n    constructor(r: SliceRenderer) {\r\n        this.renderer = r;\r\n        const gui = new RetinaCtrlGui(this);\r\n        this.gui = gui;\r\n        document.body.appendChild(gui.dom);\r\n        this.defaultRetinaRenderPass = r.getCurrentRetinaRenderPass();\r\n        this.alphaBuffer = r.gpu.createBuffer(GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST, 16, \"RetinaController's Retina Alpha Uniform Buffer\");\r\n        this.retinaRenderPasses = retinaRenderPassDescriptors.map((desc, index) => {\r\n            if (desc?.alphaShader?.code && desc.alphaShader.code.indexOf(\"@group(1)\") !== -1) desc.alphaShaderBindingResources = [{ buffer: this.alphaBuffer }];\r\n            // this jsBuffer uses first 4 elements to write to GPU, other elems are used for js state storage\r\n            const jsBuffer = new Float32Array(8);\r\n            switch (index) {\r\n                case 1:\r\n                    jsBuffer[4] = 1;\r\n                    jsBuffer[5] = 1;\r\n                    const r2 = jsBuffer[4] * jsBuffer[4];\r\n                    jsBuffer[0] = r2 / jsBuffer[5];\r\n                    jsBuffer[1] = r2 * jsBuffer[5];\r\n                    jsBuffer[2] = 4 / (1 + r2);\r\n                    break;\r\n                case 2:\r\n                    jsBuffer[0] = 0.5;\r\n                    jsBuffer[5] = 0;\r\n                    jsBuffer[1] = 2 - jsBuffer[0];\r\n                    jsBuffer[2] = jsBuffer[5];\r\n                    break;\r\n                case 3:\r\n                    jsBuffer[2] = 1;\r\n                    jsBuffer[3] = 0.01;\r\n            }\r\n            return { promise: r.createRetinaRenderPass(desc).init(), jsBuffer };\r\n        });\r\n        this.sectionPresets = (screenSize: { width: number; height: number; }) => ({\r\n            \"retina+sections\": {\r\n                eye1: sliceconfig.default1eye(0.3, screenSize),\r\n                eye2: sliceconfig.default2eye(0.2, screenSize),\r\n                retina: true\r\n            },\r\n            \"retina+bigsections\": {\r\n                eye1: sliceconfig.default1eye(0.44, screenSize),\r\n                eye2: sliceconfig.default2eye(0.33, screenSize),\r\n                retina: true\r\n            },\r\n            \"retina\": {\r\n                eye1: [],\r\n                eye2: [],\r\n                retina: true\r\n            },\r\n            \"sections\": {\r\n                eye1: sliceconfig.default1eye(0.5, screenSize),\r\n                eye2: sliceconfig.default2eye(0.5, screenSize),\r\n                retina: false\r\n            },\r\n            \"retina+zslices\": {\r\n                eye1: sliceconfig.zslices1eye(0.15, 0.6, screenSize),\r\n                eye2: sliceconfig.zslices2eye(0.3, 0.6, screenSize),\r\n                retina: true\r\n            },\r\n            \"retina+yslices\": {\r\n                eye1: sliceconfig.yslices1eye(0.15, 0.6, screenSize),\r\n                eye2: sliceconfig.yslices2eye(0.3, 0.6, screenSize),\r\n                retina: true\r\n            },\r\n            \"zsection\": {\r\n                eye1: sliceconfig.singlezslice1eye(screenSize),\r\n                eye2: sliceconfig.singlezslice2eye(screenSize),\r\n                retina: false\r\n            },\r\n            \"ysection\": {\r\n                eye1: sliceconfig.singleyslice1eye(screenSize),\r\n                eye2: sliceconfig.singleyslice2eye(screenSize),\r\n                retina: false\r\n            },\r\n        });\r\n    }\r\n    private _vec2damp = new Vec2();\r\n    private _vec2euler = new Vec2();\r\n    private _vec3 = new Vec3();\r\n    private _q1 = new Quaternion();\r\n    private _q2 = new Quaternion();\r\n    private _mat4 = new Mat4();\r\n    private refacingFront: boolean = false;\r\n    private refacingTarget = new Vec2;\r\n    private needsUpdateRetinaCamera: boolean = false;\r\n    private retinaFov: number = 40;\r\n    private retinaSize = 1.8;\r\n    private retinaZDistance = 5;\r\n    private crossHairSize = 0.03;\r\n    /** Store displayconfig temporal changes between frames */\r\n    private tempDisplayConfig: DisplayConfig = {};\r\n    private displayConfigChanged = false;\r\n    maxRetinaResolution = 1024;\r\n    private retinaRenderPasses: { promise: Promise<RetinaRenderPass>, jsBuffer: Float32Array }[];\r\n    private defaultRetinaRenderPass: RetinaRenderPass;\r\n    gui: RetinaCtrlGui;\r\n\r\n    toggleRetinaAlpha(idx: number) {\r\n        const { promise, jsBuffer } = this.retinaRenderPasses[idx];\r\n        if (promise) {\r\n            promise.then(pass => {\r\n                this.renderer.gpu.device.queue.writeBuffer(this.alphaBuffer, 0, jsBuffer.buffer, 0, 4);\r\n                this.renderer.setRetinaRenderPass(pass);\r\n                this.gui?.refresh({ \"toggleRetinaAlpha\": idx });\r\n                this.currentRetinaRenderPassIndex = idx;\r\n            });\r\n        } else {\r\n            this.renderer.setRetinaRenderPass(this.defaultRetinaRenderPass);\r\n            this.gui?.refresh({ \"toggleRetinaAlpha\": idx });\r\n            this.currentRetinaRenderPassIndex = -1;\r\n        }\r\n    }\r\n    getSubLayersNumber(updateCount?: number) {\r\n        // when < 32, we slow down layer speed\r\n        let layers = this.renderer.getDisplayConfig('retinaLayers');\r\n        if (layers > 32 || ((updateCount & 3) && (layers > 16 || (updateCount & 7)))) {\r\n            if (layers > 0) layers--;\r\n        }\r\n        return layers;\r\n    }\r\n    getAddLayersNumber(updateCount?: number) {\r\n        let layers = this.renderer.getDisplayConfig('retinaLayers');\r\n        if (updateCount === undefined) return Math.min(512, layers + 1);\r\n        if (layers > 32 || ((updateCount & 3) && (layers > 16 || (updateCount & 7)))) {\r\n            layers++;\r\n        }\r\n        return Math.min(512, layers);\r\n    }\r\n    update(state: ControllerState): void {\r\n        let enabled = (!this.keyConfig.enable || state.isKeyHold(this.keyConfig.enable)) && this.enabled;\r\n        const on = (k: string) => state.isKeyHold(k) && enabled;\r\n        let key = this.keyConfig;\r\n        let delta: number;\r\n\r\n        // retreive all temporal changes before this frame\r\n        let displayConfig: DisplayConfig = this.tempDisplayConfig;\r\n        if (this.displayConfigChanged) this.tempDisplayConfig = {};\r\n        this.displayConfigChanged = false;\r\n\r\n        let stereo = this.renderer.getStereoMode();\r\n        if (on(this.keyConfig.toggle3D)) {\r\n            this.writeConfigToggleStereoMode(displayConfig, !stereo);\r\n            this.gui?.refresh({ \"toggleStereo\": !stereo });\r\n        } else if (this.needResize) {\r\n            displayConfig.sections = this.sectionPresets(this.renderer.getDisplayConfig(\"canvasSize\"))[this.currentSectionConfig][(\r\n                stereo ? \"eye2\" : \"eye1\"\r\n            )];\r\n        }\r\n        this.needResize = false;\r\n        if (stereo) {\r\n            if (on(this.keyConfig.addEyes3dGap)) {\r\n                this.retinaEyeOffset *= 1.05;\r\n                if (this.retinaEyeOffset > 0.4) this.retinaEyeOffset = 0.4;\r\n                if (this.retinaEyeOffset < -0.4) this.retinaEyeOffset = -0.4;\r\n                displayConfig.retinaStereoEyeOffset = this.retinaEyeOffset;\r\n                displayConfig.sectionStereoEyeOffset = this.sectionEyeOffset;\r\n            }\r\n            if (on(this.keyConfig.subEyes3dGap)) {\r\n                this.retinaEyeOffset /= 1.05;\r\n                if (this.retinaEyeOffset > 0 && this.retinaEyeOffset < 0.03) this.retinaEyeOffset = 0.03;\r\n                if (this.retinaEyeOffset < 0 && this.retinaEyeOffset > -0.03) this.retinaEyeOffset = -0.03;\r\n                displayConfig.retinaStereoEyeOffset = this.retinaEyeOffset;\r\n                displayConfig.sectionStereoEyeOffset = this.sectionEyeOffset;\r\n            }\r\n            if (on(this.keyConfig.addEyes4dGap)) {\r\n                this.sectionEyeOffset *= 1.05;\r\n                if (this.sectionEyeOffset > this.maxSectionEyeOffset) this.sectionEyeOffset = this.maxSectionEyeOffset;\r\n                if (this.sectionEyeOffset < -this.maxSectionEyeOffset) this.sectionEyeOffset = -this.maxSectionEyeOffset;\r\n                displayConfig.retinaStereoEyeOffset = this.retinaEyeOffset;\r\n                displayConfig.sectionStereoEyeOffset = this.sectionEyeOffset;\r\n            }\r\n            if (on(this.keyConfig.subEyes4dGap)) {\r\n                this.sectionEyeOffset /= 1.05;\r\n                if (this.sectionEyeOffset > 0 && this.sectionEyeOffset < this.minSectionEyeOffset) this.sectionEyeOffset = this.minSectionEyeOffset;\r\n                if (this.sectionEyeOffset < 0 && this.sectionEyeOffset > -this.minSectionEyeOffset) this.sectionEyeOffset = -this.minSectionEyeOffset;\r\n                displayConfig.retinaStereoEyeOffset = this.retinaEyeOffset;\r\n                displayConfig.sectionStereoEyeOffset = this.sectionEyeOffset;\r\n            }\r\n            if (this.guiMouseOperation === \"negEyesGap\" || on(this.keyConfig.negEyesGap)) {\r\n                this.sectionEyeOffset = -this.sectionEyeOffset;\r\n                this.retinaEyeOffset = -this.retinaEyeOffset;\r\n                displayConfig.retinaStereoEyeOffset = this.retinaEyeOffset;\r\n                displayConfig.sectionStereoEyeOffset = this.sectionEyeOffset;\r\n                this.gui?.refresh({ \"negEyesGap\": this.retinaEyeOffset > 0 || this.sectionEyeOffset > 0 });\r\n            }\r\n        }\r\n        if (on(this.keyConfig.toggleCrosshair)) {\r\n            this.writeConfigToggleCrosshair(displayConfig);\r\n        }\r\n        if (this.guiMouseOperation === \"opacitypBtn\" || on(this.keyConfig.addOpacity)) {\r\n            displayConfig.opacity = this.renderer.getDisplayConfig(\"opacity\") * (1 + this.opacityKeySpeed);\r\n        }\r\n        if (this.guiMouseOperation === \"opacitymBtn\" || on(this.keyConfig.subOpacity)) {\r\n            displayConfig.opacity = this.renderer.getDisplayConfig(\"opacity\") / (1 + this.opacityKeySpeed);\r\n        }\r\n        if (this.guiMouseOperation === \"layerpBtn\" || on(this.keyConfig.addLayer)) {\r\n            displayConfig.retinaLayers = this.getAddLayersNumber(state.updateCount);\r\n        }\r\n        if (this.guiMouseOperation === \"layermBtn\" || on(this.keyConfig.subLayer)) {\r\n            displayConfig.retinaLayers = this.getSubLayersNumber(state.updateCount);\r\n        }\r\n        if (this.guiMouseOperation === \"respBtn\" || on(this.keyConfig.addRetinaResolution)) {\r\n            this.guiMouseOperation = \"\";\r\n            let res = this.renderer.getDisplayConfig('retinaResolution');\r\n            res += this.renderer.getMinResolutionMultiple();\r\n            if (res <= this.maxRetinaResolution) displayConfig.retinaResolution = res;\r\n        }\r\n        if (this.guiMouseOperation === \"resmBtn\" || on(this.keyConfig.subRetinaResolution)) {\r\n            this.guiMouseOperation = \"\";\r\n            let res = this.renderer.getDisplayConfig('retinaResolution');\r\n            res -= this.renderer.getMinResolutionMultiple();\r\n            if (res > 0) displayConfig.retinaResolution = res;\r\n        }\r\n        if (this.guiMouseOperation === \"fovpBtn\" || on(this.keyConfig.addFov)) {\r\n            this.retinaFov += this.fovKeySpeed;\r\n            if (this.retinaFov > 120) this.retinaFov = 120;\r\n            this.needsUpdateRetinaCamera = true;\r\n        }\r\n        if (this.guiMouseOperation === \"fovmBtn\" || on(this.keyConfig.subFov)) {\r\n            this.retinaFov -= this.fovKeySpeed;\r\n            if (this.retinaFov < 0.1) this.retinaFov = 0;\r\n            this.needsUpdateRetinaCamera = true;\r\n        }\r\n        if (on(this.keyConfig.toggleRetinaAlpha)) {\r\n            this.currentRetinaRenderPassIndex++;\r\n            if (this.currentRetinaRenderPassIndex >= retinaRenderPassDescriptors.length) this.currentRetinaRenderPassIndex = 0;\r\n            this.toggleRetinaAlpha(this.currentRetinaRenderPassIndex);\r\n        }\r\n        if (enabled && state.currentBtn === this.retinaAlphaMouseButton && this.currentRetinaRenderPassIndex > 0) {\r\n            const { jsBuffer } = this.retinaRenderPasses[this.currentRetinaRenderPassIndex];\r\n            switch (this.currentRetinaRenderPassIndex) {\r\n                case 1:\r\n                    jsBuffer[4] += state.moveY * 0.01;\r\n                    jsBuffer[5] += state.moveX * 0.01;\r\n                    jsBuffer[4] = Math.max(0.01, Math.min(jsBuffer[4], _SQRT_3));\r\n                    jsBuffer[5] = Math.max(1, Math.min(jsBuffer[5], 5));\r\n                    const r2 = jsBuffer[4] * jsBuffer[4];\r\n                    jsBuffer[0] = r2 / jsBuffer[5];\r\n                    jsBuffer[1] = r2 * jsBuffer[5];\r\n                    jsBuffer[2] = 4 / (1 + r2);\r\n                    break;\r\n                case 2:\r\n                    jsBuffer[0] += state.moveY * 0.01;\r\n                    jsBuffer[5] += state.moveX * 0.01;\r\n                    jsBuffer[0] = Math.max(0.01, Math.min(jsBuffer[0], 1));\r\n                    jsBuffer[5] = Math.max(0, Math.min(jsBuffer[5], 0.1));\r\n                    jsBuffer[1] = 2 - jsBuffer[0];\r\n                    jsBuffer[2] = jsBuffer[5];\r\n                    break;\r\n                case 3:\r\n                    let n = new Vec3(jsBuffer[0], jsBuffer[1], jsBuffer[2]).norms();\r\n                    // n.rotates(new Vec3(state.moveY, state.moveX).mulfs(0.01).exp());\r\n                    let y = Math.acos(n.y) + state.moveX * 0.01;\r\n                    let x = Math.atan2(n.z, n.x) + state.moveY * 0.01;\r\n                    const sy = Math.sin(y);\r\n                    n.set(Math.cos(x) * sy, Math.cos(y), Math.sin(x) * sy);\r\n                    n.writeBuffer(jsBuffer);\r\n            }\r\n            this.renderer.gpu.device.queue.writeBuffer(this.alphaBuffer, 0, jsBuffer.buffer, 0, 4);\r\n        }\r\n        for (let [label, keyCode] of Object.entries(this.keyConfig.sectionConfigs)) {\r\n            if (on(keyCode)) {\r\n                this.toggleSectionConfig(label);\r\n            }\r\n        }\r\n        delta = (on(key.rotateDown) ? -1 : 0) + (on(key.rotateUp) ? 1 : 0);\r\n        let keyRotateSpeed = this.keyRotateSpeed * state.mspf;\r\n        if (delta) this._vec2damp.y = delta * keyRotateSpeed;\r\n        delta = (on(key.rotateLeft) ? 1 : 0) + (on(key.rotateRight) ? -1 : 0);\r\n        if (delta) this._vec2damp.x = delta * keyRotateSpeed;\r\n        if (enabled) {\r\n            if (state.currentBtn === this.mouseButton) {\r\n                this.refacingFront = false;\r\n                if (state.moveX) this._vec2damp.x = state.moveX * this.mouseSpeed;\r\n                if (state.moveY) this._vec2damp.y = state.moveY * this.mouseSpeed;\r\n            }\r\n            if (state.wheelY) {\r\n                this.needsUpdateRetinaCamera = true;\r\n                this.retinaSize += state.wheelY * this.wheelSpeed;\r\n            }\r\n        }\r\n        if (on(key.refaceFront)) {\r\n            this.refacingFront = true;\r\n            this.refacingTarget.set();\r\n        } else if (on(key.refaceRight)) {\r\n            this.refacingFront = true;\r\n            this.refacingTarget.set(_90, 0);\r\n        } else if (on(key.refaceTop)) {\r\n            this.refacingFront = true;\r\n            this.refacingTarget.set(0, -_90);\r\n        } else if (on(key.refaceLeft)) {\r\n            this.refacingFront = true;\r\n            this.refacingTarget.set(-_90, 0);\r\n        } else if (on(key.refaceBottom)) {\r\n            this.refacingFront = true;\r\n            this.refacingTarget.set(0, _90);\r\n        }\r\n\r\n        if (this._vec2damp.norm1() < 1e-3 || this.refacingFront) {\r\n            this._vec2damp.set(0, 0);\r\n        }\r\n        if (this._vec2damp.norm1() > 1e-3 || this.refacingFront || this.needsUpdateRetinaCamera) {\r\n            if (this.needsUpdateRetinaCamera) {\r\n                if (this.retinaFov > 0) {\r\n                    this.retinaZDistance = this.retinaSize / Math.tan(this.retinaFov / 2 * _DEG2RAD);\r\n                    displayConfig.camera3D = {\r\n                        fov: this.retinaFov,\r\n                        near: Math.max(0.01, this.retinaZDistance - 4),\r\n                        far: this.retinaZDistance + 4\r\n                    };\r\n                } else {\r\n                    this.retinaZDistance = 4;\r\n                    displayConfig.camera3D = {\r\n                        size: this.retinaSize,\r\n                        near: 2,\r\n                        far: 8\r\n                    };\r\n                }\r\n            }\r\n            this.needsUpdateRetinaCamera = false;\r\n            this._vec2euler.x %= _360;\r\n            this._vec2euler.y %= _360;\r\n            let dampFactor = Math.exp(-this.damp * Math.min(200.0, state.mspf));\r\n            if (this.refacingFront) {\r\n                this._vec2euler.subs(this.refacingTarget).mulfs(dampFactor);\r\n                if (this._vec2euler.norm1() < 0.01) this.refacingFront = false;\r\n                this._vec2euler.adds(this.refacingTarget);\r\n            }\r\n            this._vec2euler.adds(this._vec2damp);\r\n            let mat = this._mat4.setFrom3DRotation(this._q1.expset(this._vec3.set(0, this._vec2euler.x, 0)).mulsr(\r\n                this._q2.expset(this._vec3.set(this._vec2euler.y, 0, 0))\r\n            ).conjs());\r\n            mat.elem[11] = -this.retinaZDistance;\r\n            displayConfig.retinaViewMatrix = mat;\r\n            this._vec2damp.mulfs(dampFactor);\r\n        }\r\n        this.renderer.setDisplayConfig(displayConfig);\r\n    }\r\n    private writeConfigToggleStereoMode(dstConfig: DisplayConfig, stereo?: boolean) {\r\n        stereo ??= !this.renderer.getStereoMode();\r\n        if (!stereo) {\r\n            dstConfig.retinaStereoEyeOffset = 0;\r\n            dstConfig.sectionStereoEyeOffset = 0;\r\n        } else {\r\n            dstConfig.retinaStereoEyeOffset = this.retinaEyeOffset;\r\n            dstConfig.sectionStereoEyeOffset = this.sectionEyeOffset;\r\n        }\r\n        dstConfig.sections = this.sectionPresets(this.renderer.getDisplayConfig(\"canvasSize\"))[this.currentSectionConfig][(\r\n            stereo ? \"eye2\" : \"eye1\"\r\n        )];\r\n    }\r\n    toggleStereo(stereo?: boolean) {\r\n        this.gui?.refresh({ \"toggleStereo\": stereo || !this.renderer.getStereoMode() });\r\n        this.writeConfigToggleStereoMode(this.tempDisplayConfig, stereo);\r\n        this.displayConfigChanged = true;\r\n    }\r\n    private writeConfigToggleCrosshair(dstConfig: DisplayConfig, size?: number) {\r\n        if (!size) {\r\n            let crossHair = this.renderer.getDisplayConfig('crosshair');\r\n            dstConfig.crosshair = crossHair === 0 ? this.crossHairSize : 0;\r\n        } else {\r\n            dstConfig.crosshair = size;\r\n            this.crossHairSize = size;\r\n        }\r\n    }\r\n    toggleCrosshair() {\r\n        this.writeConfigToggleCrosshair(this.tempDisplayConfig);\r\n        this.displayConfigChanged = true;\r\n    }\r\n    setSectionEyeOffset(offset: number) {\r\n        let stereo = this.renderer.getStereoMode();\r\n        this.sectionEyeOffset = offset;\r\n        if (stereo) { this.tempDisplayConfig.sectionStereoEyeOffset = offset; this.displayConfigChanged = true; }\r\n    }\r\n    setRetinaEyeOffset(offset: number) {\r\n        let stereo = this.renderer.getStereoMode();\r\n        this.retinaEyeOffset = offset;\r\n        if (stereo) { this.tempDisplayConfig.retinaStereoEyeOffset = offset; this.displayConfigChanged = true; }\r\n    }\r\n    setLayers(layers: number) {\r\n        this.tempDisplayConfig.retinaLayers = layers;\r\n        this.displayConfigChanged = true;\r\n    }\r\n    setOpacity(opacity: number) {\r\n        this.tempDisplayConfig.opacity = opacity;\r\n        this.displayConfigChanged = true;\r\n    }\r\n    setCrosshairSize(size: number) {\r\n        this.tempDisplayConfig.crosshair = size;\r\n        this.crossHairSize = size;\r\n        this.displayConfigChanged = true;\r\n    }\r\n    setRetinaResolution(retinaResolution: number) {\r\n        this.tempDisplayConfig.retinaResolution = retinaResolution;\r\n        this.displayConfigChanged = true;\r\n    }\r\n    setRetinaSize(size: number) {\r\n        this.retinaSize = size;\r\n        this.needsUpdateRetinaCamera = true;\r\n    }\r\n    setRetinaFov(fov: number) {\r\n        this.retinaFov = fov;\r\n        this.needsUpdateRetinaCamera = true;\r\n    }\r\n    toggleSectionConfig(index: string) {\r\n        if (this.currentSectionConfig === index) return;\r\n        let preset = this.sectionPresets(this.renderer.getDisplayConfig(\"canvasSize\"))[index];\r\n        if (!preset) console.error(`Section Configuration \"${index}\" does not exsit.`);\r\n        let layers = this.renderer.getDisplayConfig(\"retinaLayers\");\r\n        if (preset.retina === false && layers > 0) {\r\n            this.rembemerLastLayers = layers;\r\n            layers = 0;\r\n        } else if (preset.retina === true && this.rembemerLastLayers) {\r\n            layers = this.rembemerLastLayers;\r\n            this.rembemerLastLayers = null;\r\n        }\r\n        let stereo = this.renderer.getStereoMode();\r\n        let sections = preset[(\r\n            stereo ? \"eye2\" : \"eye1\"\r\n        )];\r\n        this.displayConfigChanged = true;\r\n        this.tempDisplayConfig.retinaLayers = layers;\r\n        this.tempDisplayConfig.sections = sections;\r\n        this.currentSectionConfig = index;\r\n        this.gui?.refresh({ \"toggleSectionConfig\": index });\r\n    }\r\n    setSize(size: GPUExtent3DStrict) {\r\n        this.tempDisplayConfig.canvasSize = size;\r\n        this.displayConfigChanged = true;\r\n        this.needResize = true;\r\n    }\r\n    setDisplayConfig(config: DisplayConfig) {\r\n        if (config.canvasSize) this.setSize(config.canvasSize);\r\n        if (config.opacity) this.setOpacity(config.opacity);\r\n        if (config.retinaLayers) this.setLayers(config.retinaLayers);\r\n        if (config.retinaResolution) this.setRetinaResolution(config.retinaResolution);\r\n        if (config.crosshair) this.setCrosshairSize(config.crosshair);\r\n        if (config.retinaStereoEyeOffset) this.setRetinaEyeOffset(config.retinaStereoEyeOffset);\r\n        if (config.sectionStereoEyeOffset) this.setSectionEyeOffset(config.sectionStereoEyeOffset);\r\n        if (config.screenBackgroundColor) {\r\n            this.tempDisplayConfig.screenBackgroundColor = config.screenBackgroundColor;\r\n            this.displayConfigChanged = true;\r\n        }\r\n    }\r\n}\r\n\r\nexport class RetinaCtrlGui {\r\n    controller: RetinaController;\r\n    dom: HTMLDivElement;\r\n    iconSize = 32;\r\n    lang?: \"zh\" | \"en\";\r\n    refresh: (param: any) => void;\r\n    createToggleDiv(CtrlBtn: HTMLButtonElement, display: string = \"\") {\r\n        const div = document.createElement(\"div\");\r\n        div.style.display = \"none\";\r\n        CtrlBtn.addEventListener(\"click\", () => {\r\n            div.style.display = div.style.display === \"none\" ? display : \"none\";\r\n        });\r\n        return div;\r\n    }\r\n    createDropBox(CtrlBtn: HTMLButtonElement, offset: number, width: number = 1) {\r\n        const div = this.createToggleDiv(CtrlBtn);\r\n        div.style.position = \"absolute\";\r\n        div.className = \"retina-ctrl-gui\"\r\n        div.style.width = this.iconSize * width + \"px\";\r\n        div.style.top = this.iconSize + \"px\";\r\n        div.style.left = this.iconSize * offset + \"px\";\r\n        return div;\r\n    }\r\n    toggle() {\r\n        this.dom.style.display = this.dom.style.display === \"none\" ? \"\" : \"none\";\r\n    }\r\n    constructor(retinaCtrl: RetinaController) {\r\n        this.controller = retinaCtrl;\r\n        this.dom = document.createElement(\"div\");\r\n        this.dom.style.position = \"fixed\";\r\n        this.dom.style.top = \"50vh\";\r\n        this.dom.style.right = \"0\";\r\n        document.body.appendChild(this.dom);\r\n\r\n        // write gui and set size event\r\n\r\n        const SVG_HEADER = `<svg xmlns='http://www.w3.org/2000/svg' viewBox='`;\r\n        const SVG_LINE = `style=\"fill:none;stroke:#FFF;stroke-width:0.25;\"`;\r\n        const SVG_PLUS = `<text x=\"1.5\" y=\"3.5\" stroke=\"#F00\" style=\"font-size:3px\">+</text>`;\r\n        const SVG_MINUS = `<text x=\"2\" y=\"3.5\" stroke=\"#F00\" style=\"font-size:3px\">-</text>`;\r\n        const SVG_RETINA = `<path d=\"M 1.3,3.3 2.5,4 4.1,3.6 V 2 L 2.9,1.3 1.3,1.7 Z\"/>`;\r\n        const SVG_CHECKER = `${SVG_HEADER}0 0 5 5'><g style=\"fill:#FFF\"><rect width=\"1\" height=\"1\" x=\"0.5\" y=\"0.5\"/><rect width=\"1\" height=\"1\" x=\"2.5\" y=\"0.5\"/><rect width=\"1\" height=\"1\" x=\"1.5\" y=\"1.5\"/><rect width=\"1\" height=\"1\" x=\"3.5\" y=\"1.5\"/><rect width=\"1\" height=\"1\" x=\"0.5\" y=\"2.5\"/><rect width=\"1\" height=\"1\" x=\"2.5\" y=\"2.5\"/><rect width=\"1\" height=\"1\" x=\"1.5\" y=\"3.5\"/><rect width=\"1\" height=\"1\" x=\"3.5\" y=\"3.5\"/>`;\r\n        const SVG_CAM = `${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}><circle cx=\"0.77\" cy=\"1.57\" r=\"0.4\"/><rect width=\"2.36\" height=\"1.6\" x=\"0.39\" y=\"2.15\"/><circle cx=\"1.9\" cy=\"1.35\" r=\"0.66\"/><path d=\"M 2.74,2.48 4.89,1\"/><path d=\"m 2.77,3.27 2.16,1.4\"/><path d=\"m 4.46,1.9 c 0.23,0.65 0.28,1.3 0.03,1.9\"/><path d=\"M 4.24,2.4 4.36,1.7 4.9,2.18\"/><path d=\"M 4.23,3.2 4.41,3.9 5,3.4\"/>`;\r\n        const mainBtn = this.addBtn(`${SVG_HEADER}0.6 0.5 4.5 4.5'><g ${SVG_LINE}><path d=\"M 1.9,4.53 1.4,4.24 1.51,3.73 C 1.43,3.65 1.36,3.56 1.3,3.46 L 0.77,3.43 0.62,2.87 1.07,2.58 C 1.07,2.47 1.08,2.36 1.11,2.25 L 0.76,1.84 1.05,1.34 1.56,1.45 C 1.64,1.37 1.73,1.3 1.83,1.24 L 1.86,0.71 2.42,0.56 2.71,1 c 0.11,0 0.23,0.02 0.34,0.04 L 3.45,0.7 3.95,0.99 3.84,1.5 c 0.08,0.08 0.15,0.17 0.21,0.27 l 0.53,0.03 0.15,0.56 -0.44,0.3 c 0,0.11 -0.02,0.23 -0.04,0.34 L 4.59,3.37 4.3,3.88 3.79,3.77 C 3.7,3.85 3.61,3.91 3.52,3.97 L 3.48,4.5 2.92,4.65 2.63,4.21 C 2.53,4.2 2.41,4.19 2.3,4.16 Z\"/><circle cx=\"2.67\" cy=\"2.62\" r=\"1\"/></g></svg>`);\r\n        const crossppl1Btn = this.addBtn(`${SVG_HEADER}0.6 0.5 4.5 4.5'><g ${SVG_LINE}><path d=\"M 1.22,1.68 V 3.764 L 2.83,4.644 4.472,3.715 V 1.715 L 2.81,0.8 Z M 1.55,1.86 2.86,2.61 V 4.31 M 2.86,2.61 4.16,1.86\"/></g></svg>`);\r\n        const crossppl2Btn = this.addBtn(`${SVG_HEADER}0.6 0.5 4.5 4.5'><g ${SVG_LINE}><circle cx=\"2.69\" cy=\"2.6\" r=\"2\"/><path d=\"m 0.69,2.6 c 0.002,1.28 4,1.28 4,0.014\"/><path style=\"stroke-dasharray:0.2, 0.2;\" d=\"M 0.68,2.6 C 0.71,1.45 4.68,1.5 4.7,2.63\"/></g></svg>`);\r\n        const crossppl3Btn = this.addBtn(`${SVG_HEADER}0.6 0.5 4.5 4.5'><g style=\"fill:none;stroke:#FFF;stroke-width:0.4;\"><path transform=\"scale(0.6) translate(1.8,1.8)\" d=\"M 1.22,1.68 V 3.764 L 2.83,4.644 4.472,3.715 V 1.715 L 2.81,0.8 Z M 1.55,1.86 2.86,2.61 V 4.31 M 2.86,2.61 4.16,1.86\"/></g></svg>`);\r\n        const crossppl4Btn = this.addBtn(`${SVG_HEADER}0.6 0.5 4.5 4.5'><g ${SVG_LINE}><path d=\"M 1.19,3.49 2.85,4.45 4.42,3.55 V 1.57 L 2.77,0.63 1.19,1.52 Z M 2,1.12 3.45,1.05 4.4,2.62 3.65,3.94 1.98,3.92 1.23,2.74 1.95,1.1\"/></g></svg>`);\r\n        const crosshairBtn = this.addBtn(`${SVG_HEADER}0.6 0.5 4.5 4.5'><g ${SVG_LINE}><path d=\"m 2.62,1 v 3.37 M 1.56,4 3.56,1.47 M 0.9,2.7 H 4.23\"/></g></svg>`);\r\n        const stereoBtn = this.addBtn(`${SVG_HEADER}0.5 0.3 4.5 4.5'><g ${SVG_LINE}><path d=\"M 0.563,2.636 C 2.33,1 3.24,1.22 4.74,2.76 2.99,3.96 1.676,3.73 0.564,2.637 Z\"/><circle cx=\"2.6\" cy=\"2.5\" r=\"0.9\"/><circle cx=\"2.6\" cy=\"2.5\" r=\"0.54\"/></g></svg>`);\r\n        const settingBtn = this.addBtn(`${SVG_HEADER}0.5 0.3 4.5 4.5'><g id=\"g1\" ${SVG_LINE}><path d=\"M 1.3,3.4 V 4.8 M 1.77,3.4 V 4.8 M 1.3,0.4 V 2.8 M 1.77,0.4 V 2.8\"/><rect width=\"1.7\" height=\"0.4\" x=\"0.63\" y=\"3.04\"/></g><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#g1\" transform=\"rotate(180,2.65,2.59)\"/></svg>`);\r\n        const slicecfg1Btn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}>${SVG_RETINA}<rect width=\"1.2\" height=\"1.2\" x=\"0.6\" y=\"3.6\"/><rect width=\"1.2\" height=\"1.2\" x=\"3.5\" y=\"3.6\"/><rect width=\"1.2\" height=\"1.2\" x=\"3.5\" y=\"0.5\"/></g></svg>`);\r\n        const slicecfg2Btn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}>${SVG_RETINA}<rect width=\"1.7\" height=\"1.7\" x=\"0.6\" y=\"2.8\"/><rect width=\"1.7\" height=\"1.7\" x=\"2.9\" y=\"2.8\"/><rect width=\"1.7\" height=\"1.7\" x=\"2.9\" y=\"0.5\"/></g></svg>`);\r\n        const slicecfg3Btn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}>${SVG_RETINA}</g></svg>`);\r\n        const slicecfg4Btn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}><rect width=\"2\" height=\"2\" x=\"0.6\" y=\"2.5\"/><rect width=\"2\" height=\"2\" x=\"2.6\" y=\"2.5\"/><rect width=\"2\" height=\"2\" x=\"2.6\" y=\"0.5\"/></g></svg>`);\r\n        const slicecfg5Btn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}><rect width=\"4\" height=\"4\" x=\"0.6\" y=\"0.6\"/><text x=\"1.5\" y=\"3.5\" stroke=\"#0F0\" style=\"font-size:3px\">Y</text></g></svg>`);\r\n        const slicecfg6Btn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}><rect width=\"4\" height=\"4\" x=\"0.6\" y=\"0.6\"/><text x=\"1.5\" y=\"3.5\" stroke=\"#00F\" style=\"font-size:3px\">Z</text></g></svg>`);\r\n        const slicecfg7Btn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}>${SVG_RETINA}<rect width=\"1\" height=\"1\" x=\"0.6\" y=\"3\"/><rect width=\"1\" height=\"1\" x=\"1.6\" y=\"3\"/><rect width=\"1\" height=\"1\" x=\"2.6\" y=\"3\"/><rect width=\"1\" height=\"1\" x=\"3.6\" y=\"3\"/><text x=\"1.5\" y=\"3.5\" stroke=\"#0F0\" style=\"font-size:3px\">Y</text></g></svg>`);\r\n        const slicecfg8Btn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}>${SVG_RETINA}<rect width=\"1\" height=\"1\" x=\"0.6\" y=\"3\"/><rect width=\"1\" height=\"1\" x=\"1.6\" y=\"3\"/><rect width=\"1\" height=\"1\" x=\"2.6\" y=\"3\"/><rect width=\"1\" height=\"1\" x=\"3.6\" y=\"3\"/><text x=\"1.5\" y=\"3.5\" stroke=\"#00F\" style=\"font-size:3px\">Z</text></g></svg>`);\r\n        const layerpBtn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}><rect id=\"r\" width=\"1.8\" height=\"2.3\" x=\"2.7\" y=\"2.94\" transform=\"matrix(0.95,-0.3,0,1,0,0)\"/><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#r\" id=\"u\" transform=\"translate(-0.6,-0.4)\"/><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#u\" transform=\"translate(-0.6,-0.4)\"/>${SVG_PLUS}</g></svg>`);\r\n        const layermBtn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}><rect id=\"r\" width=\"1.8\" height=\"2.3\" x=\"2.7\" y=\"2.94\" transform=\"matrix(0.95,-0.3,0,1,0,0)\"/><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#r\" id=\"u\" transform=\"translate(-0.6,-0.4)\"/><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#u\" transform=\"translate(-0.6,-0.4)\"/>${SVG_MINUS}</g></svg>`);\r\n        const opacitypBtn = this.addBtn(`${SVG_CHECKER}<text x=\"1.5\" y=\"3.5\" style=\"font-size:3px;stroke:#F00;stroke-width:0.25\">+</text></g></svg>`);\r\n        const opacitymBtn = this.addBtn(`${SVG_CHECKER}<text x=\"2\" y=\"3.5\" style=\"font-size:3px;stroke:#F00;stroke-width:0.25\">-</text></g></svg>`);\r\n        const fovpBtn = this.addBtn(`${SVG_CAM}${SVG_PLUS}</g></svg>`);\r\n        const fovmBtn = this.addBtn(`${SVG_CAM}${SVG_MINUS}</g></svg>`);\r\n        const respBtn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}><rect width=\"4.6\" height=\"2.93\" x=\"0.33\" y=\"0.9\"/><path d=\"M 2.44,3.844 1.62,4.78 H 3.77 L 3.03,3.84\"/><circle cx=\"1.86\" cy=\"2.4\" r=\"1.05\"/><rect width=\"1.63\" height=\"0.48\" x=\"3.38\" y=\"1.7\" transform=\"rotate(12.5)\"/><path d=\"M 1.075,1.825H 1.6 V 2.1 H 1.9 V 2.5 H 2.3 V 3.07 H 2.5\"/>${SVG_PLUS}</g></svg>`);\r\n        const resmBtn = this.addBtn(`${SVG_HEADER}0 0 5 5'><g ${SVG_LINE}><rect width=\"4.6\" height=\"2.93\" x=\"0.33\" y=\"0.9\"/><path d=\"M 2.44,3.844 1.62,4.78 H 3.77 L 3.03,3.84\"/><circle cx=\"1.86\" cy=\"2.4\" r=\"1.05\"/><rect width=\"1.63\" height=\"0.48\" x=\"3.38\" y=\"1.7\" transform=\"rotate(12.5)\"/><path d=\"M 1.075,1.825H 1.6 V 2.1 H 1.9 V 2.5 H 2.3 V 3.07 H 2.5\"/>${SVG_MINUS}</g></svg>`);\r\n        const eyeModeCrossBtn = this.addBtn(`${SVG_HEADER}0.5 0.3 4.5 4.5'><g ${SVG_LINE}><circle cx=\"2\" cy=\"4\" r=\"0.3\"/><circle cx=\"3.2\" cy=\"4\" r=\"0.3\"/><path d=\"M 2,3.4 3,1 M 3.2,3.4 2.2,1\"/></g></svg>`);\r\n        const eyeModeParaBtn = this.addBtn(`${SVG_HEADER}0.5 0.3 4.5 4.5'><g ${SVG_LINE}><circle cx=\"2\" cy=\"4\" r=\"0.3\"/><circle cx=\"3.2\" cy=\"4\" r=\"0.3\"/><path d=\"M 2,3.4 1.8,1 M 3.2,3.4 3.4,1\"/></g></svg>`);\r\n        eyeModeCrossBtn.style.position = \"absolute\";\r\n        eyeModeParaBtn.style.position = \"absolute\";\r\n        eyeModeCrossBtn.style.left = \"-32px\";\r\n        eyeModeParaBtn.style.left = \"-32px\";\r\n        const mainBar = this.createToggleDiv(mainBtn, \"inline-block\");\r\n        let drag = NaN;\r\n        let startPos: number;\r\n        let enableKeycode: string;\r\n        mainBtn.addEventListener('mousedown', (e) => {\r\n            drag = e.clientY;\r\n            startPos = Number(this.dom.style.top.replace(\"vh\", \"\")) / 100 * window.innerHeight;\r\n        });\r\n        mainBtn.addEventListener('mouseenter', () => {\r\n            if (enableKeycode != retinaCtrl.keyConfig.enable) {\r\n                this.refresh({ \"enableKeyCode\": retinaCtrl.keyConfig.enable });\r\n            }\r\n        });\r\n        mainBtn.addEventListener('mousemove', (e) => {\r\n            if (!drag) return;\r\n\r\n            const currPos = startPos + e.clientY - drag;\r\n            this.dom.style.top = currPos / window.innerHeight * 100 + \"vh\";\r\n        });\r\n        mainBtn.addEventListener('mouseup', () => { drag = NaN; });\r\n        mainBtn.addEventListener('mouseout', () => { drag = NaN; });\r\n\r\n\r\n        this.dom.appendChild(mainBar);\r\n\r\n        mainBar.appendChild(eyeModeCrossBtn);\r\n        mainBar.appendChild(eyeModeParaBtn);\r\n        eyeModeCrossBtn.addEventListener('mousedown', () => retinaCtrl.guiMouseOperation = \"negEyesGap\");\r\n        eyeModeParaBtn.addEventListener('mousedown', () => retinaCtrl.guiMouseOperation = \"negEyesGap\");\r\n\r\n        stereoBtn.addEventListener('click', () => retinaCtrl.toggleStereo());\r\n        mainBar.appendChild(stereoBtn);\r\n\r\n        const slicecfgPlaceholder = document.createElement(\"span\");\r\n        slicecfgPlaceholder.className = \"slicecfg\";\r\n        mainBar.appendChild(slicecfgPlaceholder);\r\n        let slicecfgPlaceholderBtn = slicecfg1Btn.cloneNode(true) as HTMLButtonElement;\r\n        slicecfgPlaceholder.appendChild(slicecfgPlaceholderBtn);\r\n        const slicecfgBar = this.createDropBox(slicecfgPlaceholderBtn, 0, 2);\r\n        slicecfgPlaceholder.appendChild(slicecfgBar);\r\n        slicecfgBar.appendChild(slicecfg1Btn);\r\n        slicecfgBar.appendChild(slicecfg2Btn);\r\n        slicecfgBar.appendChild(slicecfg3Btn);\r\n        slicecfgBar.appendChild(slicecfg4Btn);\r\n        slicecfgBar.appendChild(slicecfg5Btn);\r\n        slicecfgBar.appendChild(slicecfg6Btn);\r\n        slicecfgBar.appendChild(slicecfg7Btn);\r\n        slicecfgBar.appendChild(slicecfg8Btn);\r\n        const slicecfgBtnFn = function () {\r\n            slicecfgPlaceholderBtn.style.backgroundImage = this.style.backgroundImage;\r\n            retinaCtrl.toggleSectionConfig(this.name);\r\n        }\r\n        slicecfg1Btn.addEventListener('click', slicecfgBtnFn); slicecfg1Btn.name = \"retina+sections\";\r\n        slicecfg2Btn.addEventListener('click', slicecfgBtnFn); slicecfg2Btn.name = \"retina+bigsections\"\r\n        slicecfg3Btn.addEventListener('click', slicecfgBtnFn); slicecfg3Btn.name = \"retina\";\r\n        slicecfg4Btn.addEventListener('click', slicecfgBtnFn); slicecfg4Btn.name = \"sections\";\r\n        slicecfg5Btn.addEventListener('click', slicecfgBtnFn); slicecfg5Btn.name = \"zsection\";\r\n        slicecfg6Btn.addEventListener('click', slicecfgBtnFn); slicecfg6Btn.name = \"ysection\";\r\n        slicecfg7Btn.addEventListener('click', slicecfgBtnFn); slicecfg7Btn.name = \"retina+zslices\";\r\n        slicecfg8Btn.addEventListener('click', slicecfgBtnFn); slicecfg8Btn.name = \"retina+yslices\";\r\n        const settingBarPlaceHolder = document.createElement(\"span\");\r\n        settingBarPlaceHolder.appendChild(settingBtn);\r\n        const settingBar = this.createDropBox(settingBtn, 2, 2);\r\n        settingBarPlaceHolder.className = \"settingbar\";\r\n        settingBarPlaceHolder.appendChild(settingBar);\r\n        mainBar.appendChild(settingBarPlaceHolder);\r\n        settingBar.appendChild(layerpBtn);\r\n        layerpBtn.addEventListener('mousedown', () => retinaCtrl.guiMouseOperation = \"layerpBtn\");\r\n        settingBar.appendChild(layermBtn);\r\n        layermBtn.addEventListener('mousedown', () => retinaCtrl.guiMouseOperation = \"layermBtn\");\r\n        settingBar.appendChild(opacitypBtn);\r\n        opacitypBtn.addEventListener('mousedown', () => retinaCtrl.guiMouseOperation = \"opacitypBtn\");\r\n        settingBar.appendChild(opacitymBtn);\r\n        opacitymBtn.addEventListener('mousedown', () => retinaCtrl.guiMouseOperation = \"opacitymBtn\");\r\n        settingBar.appendChild(fovpBtn);\r\n        fovpBtn.addEventListener('mousedown', () => retinaCtrl.guiMouseOperation = \"fovpBtn\");\r\n        settingBar.appendChild(fovmBtn);\r\n        fovmBtn.addEventListener('mousedown', () => retinaCtrl.guiMouseOperation = \"fovmBtn\");\r\n        settingBar.appendChild(respBtn);\r\n        respBtn.addEventListener('mousedown', () => retinaCtrl.guiMouseOperation = \"respBtn\");\r\n        settingBar.appendChild(resmBtn);\r\n        resmBtn.addEventListener('mousedown', () => retinaCtrl.guiMouseOperation = \"resmBtn\");\r\n\r\n        mainBar.appendChild(crosshairBtn);\r\n        crosshairBtn.addEventListener(\"click\", () => retinaCtrl.toggleCrosshair());\r\n\r\n        const crosspplPlaceholder = document.createElement(\"span\");\r\n        mainBar.appendChild(crosspplPlaceholder);\r\n        let crosspplPlaceholderBtn = crossppl1Btn.cloneNode(true) as HTMLButtonElement;\r\n        crosspplPlaceholder.appendChild(crosspplPlaceholderBtn);\r\n        crosspplPlaceholder.className = \"crossppl\";\r\n        const crosspplBar = this.createDropBox(crosspplPlaceholderBtn, 4);\r\n        crosspplPlaceholder.appendChild(crosspplBar);\r\n\r\n        const crosspplBtnFn = function () {\r\n            crosspplPlaceholderBtn.style.backgroundImage = this.style.backgroundImage;\r\n            retinaCtrl.toggleRetinaAlpha(Number(this.name));\r\n        }\r\n        crosspplBar.appendChild(crossppl1Btn); crossppl1Btn.addEventListener('click', crosspplBtnFn); crossppl1Btn.name = \"0\";\r\n        crosspplBar.appendChild(crossppl2Btn); crossppl2Btn.addEventListener('click', crosspplBtnFn); crossppl2Btn.name = \"1\";\r\n        crosspplBar.appendChild(crossppl3Btn); crossppl3Btn.addEventListener('click', crosspplBtnFn); crossppl3Btn.name = \"2\";\r\n        crosspplBar.appendChild(crossppl4Btn); crossppl4Btn.addEventListener('click', crosspplBtnFn); crossppl4Btn.name = \"3\";\r\n\r\n        this.refresh = (param: any) => {\r\n            let crosspplBtn: HTMLButtonElement;\r\n            switch (param[\"toggleRetinaAlpha\"]) {\r\n                case 0: crosspplBtn = crossppl1Btn; break;\r\n                case 1: crosspplBtn = crossppl2Btn; break;\r\n                case 2: crosspplBtn = crossppl3Btn; break;\r\n                case 3: crosspplBtn = crossppl4Btn; break;\r\n            }\r\n            switch (param[\"toggleStereo\"]) {\r\n                case true: param[\"negEyesGap\"] = retinaCtrl.retinaEyeOffset > 0 || retinaCtrl.sectionEyeOffset > 0; break;\r\n                case false: eyeModeCrossBtn.style.display = \"none\"; eyeModeParaBtn.style.display = \"none\"; break;\r\n            }\r\n            switch (param[\"negEyesGap\"]) {\r\n                case false: eyeModeCrossBtn.style.display = \"none\"; eyeModeParaBtn.style.display = \"\"; break;\r\n                case true: eyeModeCrossBtn.style.display = \"\"; eyeModeParaBtn.style.display = \"none\"; break;\r\n            }\r\n\r\n            if (crosspplBtn) crosspplPlaceholderBtn.style.backgroundImage = crosspplBtn.style.backgroundImage;\r\n            switch (param[\"toggleSectionConfig\"]) {\r\n                case \"retina+sections\": slicecfg1Btn.click(); break;\r\n                case \"retina+bigsections\": slicecfg2Btn.click(); break;\r\n                case \"retina\": slicecfg3Btn.click(); break;\r\n                case \"sections\": slicecfg4Btn.click(); break;\r\n                case \"zsection\": slicecfg5Btn.click(); break;\r\n                case \"ysection\": slicecfg6Btn.click(); break;\r\n                case \"retina+zslices\": slicecfg7Btn.click(); break;\r\n                case \"retina+yslices\": slicecfg8Btn.click(); break;\r\n            }\r\n            if (param[\"enableKeyCode\"] !== undefined) {\r\n                enableKeycode = param[\"enableKeyCode\"];\r\n                const BtnHint = {\r\n                    \"zh\": {\r\n                        \"mouseBtn0\": \"鼠标左键\",\r\n                        \"mouseBtn1\": \"鼠标中键\",\r\n                        \"mouseBtn2\": \"鼠标右键\",\r\n                        \"left\": \"左\",\r\n                        \"right\": \"右\",\r\n                        \"digit\": \"大键盘数字\",\r\n                        \"mainBtn\": \"显示/隐藏体素渲染设置\",\r\n                        \"crosspplPlaceholderBtn\": \"显示/隐藏选择截面形状\",\r\n                        \"crossppl1Btn\": \"截面形状：默认立方体\",\r\n                        \"crossppl2Btn\": \"截面形状：球\",\r\n                        \"crossppl3Btn\": \"截面形状：小立方体\",\r\n                        \"crossppl4Btn\": \"截面形状：平面\",\r\n                        \"crossppl2BtnDesc\": \"拖动以改变球半径(垂直)\\n和羽化量(水平)\",\r\n                        \"crossppl3BtnDesc\": \"拖动以改变立方体大小(垂直)\\n和剩余部分透明度(水平)\",\r\n                        \"crossppl4BtnDesc\": \"拖动以改变截平面方向\",\r\n                        \"stereoBtn\": \"切换裸眼3D模式\",\r\n                        \"eyeModeCrossBtn\": \"交叉眼\",\r\n                        \"eyeModeParaBtn\": \"平行眼\",\r\n                        \"slicecfgPlaceholderBtn\": \"显示/隐藏选择视图配置\",\r\n                        \"slicecfg1Btn\": \"视图配置：体素+三个截面\",\r\n                        \"slicecfg2Btn\": \"视图配置：体素+三个大截面\",\r\n                        \"slicecfg3Btn\": \"视图配置：体素\",\r\n                        \"slicecfg4Btn\": \"视图配置：三个截面\",\r\n                        \"slicecfg5Btn\": \"视图配置：Y轴截面\",\r\n                        \"slicecfg6Btn\": \"视图配置：Z轴截面\",\r\n                        \"slicecfg7Btn\": \"视图配置：体素+平行Y轴截面\",\r\n                        \"slicecfg8Btn\": \"视图配置：体素+平行Z轴截面\",\r\n                        \"layerpBtn\": \"增加体素渲染层数\",\r\n                        \"layermBtn\": \"减少体素渲染层数\",\r\n                        \"opacitypBtn\": \"增加体素不透明度\",\r\n                        \"opacitymBtn\": \"减少体素不透明度\",\r\n                        \"fovpBtn\": \"增大体素显示视场角\",\r\n                        \"fovmBtn\": \"降低体素显示视场角\",\r\n                        \"respBtn\": \"增大每层体素分辨率\",\r\n                        \"resmBtn\": \"降低每层体素分辨率\",\r\n                        \"settingBtn\": \"显示/隐藏体素渲染参数调节\",\r\n                        \"crosshairBtn\": \"显示/隐藏十字准心\",\r\n                    },\r\n                    \"en\": {\r\n                        \"mouseBtn0\": \"Left Mouse Button\",\r\n                        \"mouseBtn1\": \"Middle Mouse Button\",\r\n                        \"mouseBtn2\": \"Right Mouse Button\",\r\n                        \"eyeModeCrossBtn\": \"Cross View\",\r\n                        \"eyeModeParaBtn\": \"Parallel View\",\r\n                        \"left\": \"Left\",\r\n                        \"right\": \"Right\",\r\n                        \"digit\": \"Digit \",\r\n                        \"mainBtn\": \"Show / Hide Voxel Render Settings\",\r\n                        \"crosspplPlaceholderBtn\": \"Show / Hide Choose CrossSection Shape\",\r\n                        \"crossppl1Btn\": \"CrossSection Shape: Default Cube\",\r\n                        \"crossppl2Btn\": \"CrossSection Shape: Ball\",\r\n                        \"crossppl3Btn\": \"CrossSection Shape: Small Cube\",\r\n                        \"crossppl4Btn\": \"CrossSection Shape: Plane\",\r\n                        \"crossppl2BtnDesc\": \" Drag to Change Ball Radius(Vertically)\\nand Feathering Amount(Horizontally)\",\r\n                        \"crossppl3BtnDesc\": \" Drag to Change Cube Size(Vertically)\\nand Remained Opacity(Horizontally)\",\r\n                        \"crossppl4BtnDesc\": \" Drag to Change Section Plane's Orientation\",\r\n                        \"stereoBtn\": \"Toggle Naked Eye Stereo Mode\",\r\n                        \"slicecfgPlaceholderBtn\": \"Show / Hide Choose View Configuration\",\r\n                        \"slicecfg1Btn\": \"View Configuration: Voxel + Sections\",\r\n                        \"slicecfg2Btn\": \"View Configuration: Voxel + Big Sections\",\r\n                        \"slicecfg3Btn\": \"View Configuration: Voxel Only\",\r\n                        \"slicecfg4Btn\": \"View Configuration: 3 Sections\",\r\n                        \"slicecfg5Btn\": \"View Configuration: Y axis Section\",\r\n                        \"slicecfg6Btn\": \"View Configuration: Z axis Section\",\r\n                        \"slicecfg7Btn\": \"View Configuration: Voxel + Y axis Parallel Sections\",\r\n                        \"slicecfg8Btn\": \"View Configuration: Voxel + Z axis Parallel Sections\",\r\n                        \"layerpBtn\": \"Increase Voxel Layers\",\r\n                        \"layermBtn\": \"Decrease Voxel Layers\",\r\n                        \"opacitypBtn\": \"Increase Voxel Opacity\",\r\n                        \"opacitymBtn\": \"Decrease Voxel Opacity\",\r\n                        \"fovpBtn\": \"Increase Field Of Voxel View\",\r\n                        \"fovmBtn\": \"Decrease Voxel Field Of Voxel View\",\r\n                        \"respBtn\": \"Increase Resolution Per Voxel Layer\",\r\n                        \"resmBtn\": \"Decrease Resolution Per Voxel Layer\",\r\n                        \"settingBtn\": \"Show / Hide Voxel Render Params\",\r\n                        \"crosshairBtn\": \"Toggle Crosshair\",\r\n                    },\r\n                }\r\n                let params = new URLSearchParams(window.location.search.slice(1));\r\n                let tr = BtnHint[this.lang ?? params.get(\"lang\") ?? (navigator.languages.join(\",\").includes(\"zh\") ? \"zh\" : \"en\")];\r\n\r\n                const keyName = (cfg: string, config?: any) => `\\n(${retinaCtrl.keyConfig.enable ? retinaCtrl.keyConfig.enable.replace(\"Key\", \"\").replace(\"Left\", tr[\"left\"]).replace(\"Right\", tr[\"right\"]).replace(\"Digit\", tr[\"digit\"]) + \" + \" : \"\"\r\n                    }${(config ?? retinaCtrl.keyConfig)[cfg].replace(/(Key)|(Left)|(Right)|(\\.)/g, \"\").replace(\"Digit\", tr[\"digit\"])})`;\r\n\r\n                mainBtn.title = tr[\"mainBtn\"];\r\n                crosspplPlaceholderBtn.title = tr[\"crosspplPlaceholderBtn\"];\r\n                const getCrosspplBtnTitle = (btnName: string, noDragDesc?: boolean) => tr[btnName] + keyName(\"toggleRetinaAlpha\") + (\r\n                    !noDragDesc ? \"\\n----\" + keyName(\"\", { \"\": \"\" }).replace(/[\\(\\})]/g, \"\") + tr[\"mouseBtn\" + retinaCtrl.retinaAlphaMouseButton] + tr[btnName + \"Desc\"] : \"\"\r\n                );\r\n                crossppl1Btn.title = getCrosspplBtnTitle(\"crossppl1Btn\", true);\r\n                crossppl2Btn.title = getCrosspplBtnTitle(\"crossppl2Btn\");\r\n                crossppl3Btn.title = getCrosspplBtnTitle(\"crossppl3Btn\");\r\n                crossppl4Btn.title = getCrosspplBtnTitle(\"crossppl4Btn\");\r\n                stereoBtn.title = tr[\"stereoBtn\"] + keyName(\"toggle3D\");\r\n                eyeModeCrossBtn.title = tr[\"eyeModeCrossBtn\"] + keyName(\"negEyesGap\");\r\n                eyeModeParaBtn.title = tr[\"eyeModeParaBtn\"] + keyName(\"negEyesGap\");\r\n                slicecfgPlaceholderBtn.title = tr[\"slicecfgPlaceholderBtn\"];\r\n                slicecfg1Btn.title = tr[\"slicecfg1Btn\"] + keyName(\"retina+sections\", retinaCtrl.keyConfig.sectionConfigs);\r\n                slicecfg2Btn.title = tr[\"slicecfg2Btn\"] + keyName(\"retina+bigsections\", retinaCtrl.keyConfig.sectionConfigs);\r\n                slicecfg3Btn.title = tr[\"slicecfg3Btn\"] + keyName(\"retina\", retinaCtrl.keyConfig.sectionConfigs);\r\n                slicecfg4Btn.title = tr[\"slicecfg4Btn\"] + keyName(\"sections\", retinaCtrl.keyConfig.sectionConfigs);\r\n                slicecfg5Btn.title = tr[\"slicecfg5Btn\"] + keyName(\"zsection\", retinaCtrl.keyConfig.sectionConfigs);\r\n                slicecfg6Btn.title = tr[\"slicecfg6Btn\"] + keyName(\"ysection\", retinaCtrl.keyConfig.sectionConfigs);\r\n                slicecfg7Btn.title = tr[\"slicecfg7Btn\"] + keyName(\"retina+zslices\", retinaCtrl.keyConfig.sectionConfigs);\r\n                slicecfg8Btn.title = tr[\"slicecfg8Btn\"] + keyName(\"retina+yslices\", retinaCtrl.keyConfig.sectionConfigs);\r\n                layerpBtn.title = tr[\"layerpBtn\"] + keyName(\"addLayer\");\r\n                layermBtn.title = tr[\"layermBtn\"] + keyName(\"subLayer\");\r\n                opacitypBtn.title = tr[\"opacitypBtn\"] + keyName(\"addOpacity\");\r\n                opacitymBtn.title = tr[\"opacitymBtn\"] + keyName(\"subOpacity\");\r\n                fovpBtn.title = tr[\"fovpBtn\"] + keyName(\"addFov\");\r\n                fovmBtn.title = tr[\"fovmBtn\"] + keyName(\"subFov\");\r\n                respBtn.title = tr[\"respBtn\"] + keyName(\"addRetinaResolution\");\r\n                resmBtn.title = tr[\"resmBtn\"] + keyName(\"subRetinaResolution\");\r\n                settingBtn.title = tr[\"settingBtn\"];\r\n                crosshairBtn.title = tr[\"crosshairBtn\"] + keyName(\"toggleCrosshair\");\r\n            }\r\n        }\r\n        const css = document.createElement(\"style\");\r\n        css.appendChild(document.createTextNode(`\r\n        button.retina-ctrl-gui{\r\n            background: #999;\r\n        }\r\n        .slicecfg button.retina-ctrl-gui{\r\n            background: #B77;\r\n        }\r\n        .settingbar button.retina-ctrl-gui{\r\n            background: #7B7;\r\n        }\r\n        .crossppl button.retina-ctrl-gui{\r\n            background: #BB7;\r\n        }\r\n        button.retina-ctrl-gui[title]:hover::after{\r\n            white-space: pre-line; width: max-content;\r\n            content:attr(title);position:absolute;bottom:100%;right:0%; font-size:1em;z-index:100;background:#000;color:#FFF; padding:0;margin:0;\r\n        }\r\n        div.retina-ctrl-gui button.retina-ctrl-gui[title]:hover::after{\r\n            bottom:calc(100% + ${this.iconSize}px);\r\n        }\r\n        `));\r\n        this.dom.appendChild(mainBtn);\r\n        this.dom.appendChild(css);\r\n\r\n        this.refresh({ \"negEyesGap\": retinaCtrl.retinaEyeOffset > 0 || retinaCtrl.sectionEyeOffset > 0 });\r\n    }\r\n    addBtn(svgIcon: string) {\r\n        const btn = document.createElement(\"button\");\r\n        btn.className = \"retina-ctrl-gui\";\r\n        btn.innerHTML = \"&nbsp;\";\r\n        btn.style.width = this.iconSize + \"px\";\r\n        btn.style.height = this.iconSize + \"px\";\r\n        btn.style.borderRadius = this.iconSize * 0.25 + \"px\";\r\n        btn.style.backgroundImage = `url('data:image/svg+xml,${escape(svgIcon)}')`;\r\n        const cancelFn = () => this.controller.guiMouseOperation = \"\";\r\n        btn.addEventListener('mouseup', cancelFn); btn.addEventListener('mouseout', cancelFn);\r\n        return btn;\r\n    }\r\n}"],"names":[],"mappings":"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"}