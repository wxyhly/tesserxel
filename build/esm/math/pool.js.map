{"version":3,"file":"pool.js","sources":["../../../src/math/pool.ts"],"sourcesContent":["// from cannon.js: src/utils/pool.js\r\nexport abstract class Pool<T> {\r\n    objects: T[] = [];\r\n    abstract constructObject(): T;\r\n    pop() {\r\n        if (this.objects.length === 0) {\r\n            return this.constructObject();\r\n        } else {\r\n            return this.objects.pop()!;\r\n        }\r\n    }\r\n    push(...args: T[]) {\r\n        this.objects.push(...args);\r\n    }\r\n    resize(size: number) {\r\n        let objects = this.objects;\r\n        while (objects.length > size) {\r\n            objects.pop();\r\n        }\r\n        while (objects.length < size) {\r\n            objects.push(this.constructObject());\r\n        }\r\n        return this;\r\n    }\r\n}"],"names":[],"mappings":"AAAA;MACsB,IAAI,CAAA;IACtB,OAAO,GAAQ,EAAE;IAEjB,GAAG,GAAA;QACC,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;AAC3B,YAAA,OAAO,IAAI,CAAC,eAAe,EAAE;QACjC;aAAO;AACH,YAAA,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,EAAG;QAC9B;IACJ;IACA,IAAI,CAAC,GAAG,IAAS,EAAA;QACb,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;IAC9B;AACA,IAAA,MAAM,CAAC,IAAY,EAAA;AACf,QAAA,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO;AAC1B,QAAA,OAAO,OAAO,CAAC,MAAM,GAAG,IAAI,EAAE;YAC1B,OAAO,CAAC,GAAG,EAAE;QACjB;AACA,QAAA,OAAO,OAAO,CAAC,MAAM,GAAG,IAAI,EAAE;YAC1B,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;QACxC;AACA,QAAA,OAAO,IAAI;IACf;AACH;;;;"}